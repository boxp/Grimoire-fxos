var Violet=function(t){this.accounts=new Violet.Accounts(t),this.rest=new Violet.REST(this.accounts),this.streaming=new Violet.Streaming(this.accounts)};
!function(e){var n={};n.URIEncode=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},n.mergeMaps=function(){var e,n,r,t,o={};for(e=0;e<arguments.length;e++)for(r=arguments[e],t=Object.keys(r),n=0;n<t.length;n++)o[t[n]]=r[t[n]];return o},n.resolveEndpoint=function(e,n){void 0===n&&(n={});var r=e;for(var t in n)r=r.split(":"+t).join(n[t]);return r},e.Util=n}(Violet);
!function(t){var i=function(t){this.multipart=t.multipart===!0,this.method=t.method||"GET",this.formatURIAndData(t.uri||"",t.data||{}),this.xhr=new XMLHttpRequest({mozSystem:!0}),this.authorizationHeader=null};i.prototype={start:function(){if(""===this.uri)return!1;var t=this.xhr;t.open(this.method,this.uri,!0),null!==this.authorizationHeader&&t.setRequestHeader("Authorization",this.authorizationHeader),"POST"!==this.method||this.multipart||t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(this.data)},stop:function(){this.xhr.abort()},formatURIAndData:function(i,e){if(this.multipart)this.uri=i,this.data=e;else{var h,n=[];for(h in e)e.hasOwnProperty(h)&&n.push(h+"="+t.Util.URIEncode(e[h]));this.rawData=e,"GET"===this.method?(this.uri=i+(n.length>0?"?"+n.join("&"):""),this.data=null):"POST"===this.method&&(this.uri=i,this.data=n.join("&"))}},setOAuthHeader:function(t){var i="",e=[];for(i in t)t.hasOwnProperty(i)&&e.push(i+'="'+t[i]+'"');this.authorizationHeader="OAuth "+e.join(", ")},addEventListener:function(t,i){this.xhr.addEventListener.call(this.xhr,t,function(){i(this.xhr)}.bind(this))},removeEventListener:function(t,i){this.xhr.removeEventListener.call(this.xhr,t,function(){i(this.xhr)}.bind(this))}},t.HTTPClient=i}(Violet);
!function(t){var e=t.Util,n=t.HTTPClient,o=function(t){this.consumerKey=t.consumerKey,this.consumerSecret=t.consumerSecret,this.accessToken=t.accessToken||"",this.accessTokenSecret=t.accessTokenSecret||"",this.OAuthToken="",this.OAuthTokenSecret=""};o.prototype={requestToken:function(){var t="POST",e="https://api.twitter.com/oauth/request_token",o=new n({method:t,uri:e}),r={oauth_callback:"oob"};return r=this._obtainOAuthParams(o,r,""),o.setOAuthHeader(r),o.start(),new Promise(function(t){o.addEventListener("load",function(e){var n={};e.responseText.split("&").forEach(function(t){var e=t.split("=");n[e[0]]=e[1]}),this.OAuthToken=n.oauth_token,this.OAuthTokenSecret=n.oauth_token_secret,t(n)}.bind(this))}.bind(this))},obtainAccessTokenWithPIN:function(t){var e="POST",o="https://api.twitter.com/oauth/access_token",r=new n({method:e,uri:o}),a={oauth_token:this.OAuthToken,oauth_verifier:t};return a=this._obtainOAuthParams(r,a,this.OAuthTokenSecret),r.setOAuthHeader(a),r.start(),new Promise(function(t){r.addEventListener("load",function(e){var n={};e.responseText.split("&").forEach(function(t){var e=t.split("=");n[e[0]]=e[1]}),t(n)})})},obtainOAuthParams:function(t,e){var n={oauth_token:this.accessToken};return this._obtainOAuthParams(t,n,this.accessTokenSecret,e)},_obtainOAuthParams:function(t,n,o,r){var a=e.mergeMaps({oauth_consumer_key:this.consumerKey,oauth_nonce:this._generateNonce(32),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:String(Math.floor(new Date/1e3)),oauth_version:"1.0"},n),s=r?a:e.mergeMaps(a,t.rawData);return a.oauth_signature=this._generateSignature(t.method,t.uri,s,o),a},_generateNonce:function(t){var e,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split(""),o="";for(e=0;t>e;e++)o+=n[Math.floor(61*Math.random())];return o},_generateSignature:function(t,n,o,r){var a=t.toUpperCase()+"&"+e.URIEncode(n)+"&";a+=e.URIEncode(Object.keys(o).sort().map(function(t){return t+"="+e.URIEncode(o[t])}).join("&")),r||(r="");var s=this.consumerSecret+"&"+r;return e.URIEncode(CryptoJS.HmacSHA1(a,s).toString(CryptoJS.enc.Base64))}},t.OAuth=o}(Violet);
!function(t){var e=function(e){this._accounts={},this._primaryId="",this._oauth=new t.OAuth(e)};e.prototype={requestAuthorizeURI:function(){var t="https://api.twitter.com/oauth/authorize?oauth_token=";return new Promise(function(e,n){this._oauth.requestToken().then(function(n){e(t+n.oauth_token)})["catch"](function(){n()})}.bind(this))},addWithPIN:function(t){return new Promise(function(e,n){this._oauth.obtainAccessTokenWithPIN(t).then(function(t){this.add(t.user_id,t.screen_name,t.oauth_token,t.oauth_token_secret),e()}.bind(this))["catch"](function(){n()})}.bind(this))},add:function(t,e,n,i){this._accounts[t]={accountId:t,screenName:e,accessToken:n,accessTokenSecret:i},""===this._primaryId&&this.setPrimary(t)},getList:function(){return Object.keys(this._accounts).sort()},get:function(t){return t=t||this._primaryId,this._accounts[t]||{accessToken:"",accessTokenSecret:""}},setPrimary:function(t){this._accounts[t]&&(this._primaryId=t)},getPrimary:function(){return this.get(this._primaryId)},getOAuthManager:function(t){var e=this.get(t);return this._oauth.accessToken=e.accessToken,this._oauth.accessTokenSecret=e.accessTokenSecret,this._oauth},remove:function(t){delete this._accounts[t],this._primaryId===t&&(this._primaryId=Object.keys(this._accounts).sort()[0]||"")}},t.Accounts=e}(Violet);
!function(t){var e=function(t,e,s){this._accounts=e,this._accountId=s,this._initWithTweet(t)};e.prototype={_initWithTweet:function(e){var s,i=["text","truncated","in_reply_to_status_id","in_reply_to_status_id_str","in_reply_to_user_id","in_reply_to_user_id_str","in_reply_to_screen_name","geo","coordinates","place","contributors","retweet_count","favorite_count","entities","favorited","retweeted","lang"];e.retweeted_status?(this.retweeted_status=!0,this.retweeted_id=e.id_str,this.retweeted_user=new t.User(e.user,this._accounts,this._accountId),this.retweeted_at=new Date(e.created_at),s=e.retweeted_status):(this.retweeted_status=!1,s=e),i.forEach(function(t){this[t]=e[t]||null}.bind(this)),this.id=s.id_str,this.user=new t.User(s.user,this._accounts,this._accountId),this.created_at=new Date(s.created_at),this.source={name:s.source.match(/<a.*>(.*)<\/a>/)[1],url:s.source.match(/<a\shref=\"(.*?)\"\srel=\"nofollow\">.*<\/a>/)[1]}}},t.Tweet=e}(Violet);
!function(o){var e=function(o,e,i){this._accounts=e,this._accountId=i,this._initWithUser(o)};e.prototype={_initWithUser:function(o){var e=["name","screen_name","location","profile_location","description","url","entities","protected","followers_count","friends_count","listed_count","created_at","favourites_count","utc_offset","time_zone","geo_enabled","verified","statuses_count","lang","contributors_enabled","is_translator","is_translation_enabled","profile_background_color","profile_background_image_url","profile_background_image_url_https","profile_background_tile","profile_image_url","profile_image_url_https","profile_banner_url","profile_link_color","profile_sidebar_border_color","profile_sidebar_fill_color","profile_text_color","profile_use_background_image","default_profile","default_profile_image","following","follow_request_sent","notifications"];e.forEach(function(e){this[e]=o[e]||null}.bind(this)),this.id=o.id_str}},o.User=e}(Violet);
!function(t){var e=(t.Util,function(e){this.accounts=e,this.messageParser=new t.Streaming.MessageParser(e),this._events={},this._connections={userStream:{},filterStream:{}}});e.prototype={apiBaseURI:"https://stream.twitter.com/1.1/",endpoints:{userStream:{method:"GET",path:"https://userstream.twitter.com/1.1/user.json"},filterStream:{method:"POST",path:"statuses/filter.json"}},on:function(t,e){this._events[t]=e},startUserStream:function(t){var e=this.endpoints.userStream.method,s=this.endpoints.userStream.path,r="user";this._connections.userStream[t]||(this._connections.userStream[t]=this._startStreaming(t,e,s,r))},stopUserStream:function(t){this._connections.userStream[t].stop(),delete this._connections.userStream[t]},startFilterStream:function(t){var e=this.endpoints.filterStream.method,s=this.apiBaseURI+this.endpoints.filterStream.path,r="filter";this._connections.filterStream[t]||(this._connections.filterStream[t]=this._startStreaming(t,e,s,r))},stopFilterStream:function(t){this._connections.filterStream[t].stop(),delete this._connections.filterStream[t]},_startStreaming:function(e,s,r,n){e=e||this.accounts.getPrimary().accountId;var i=this.accounts.getOAuthManager(e),a=new t.HTTPClient({method:s,uri:r});return a.setOAuthHeader(i.obtainOAuthParams(a)),a.addEventListener("progress",function(t){var s=t.responseText.split("\r\n");s[s.length-2]&&this._parseStream(e,n,JSON.parse(s[s.length-2]))}.bind(this)),a.start(),a},_parseStream:function(t,e,s){var r=this.messageParser.parse(t,s);"function"==typeof this._events[r.type]&&this._events[r.type].call(null,t,e,r.data)}},t.Streaming=e}(Violet);
!function(t){var e=function(t){this.accounts=t};e.prototype={parse:function(e,a){return a.id?{type:"tweet",data:new t.Tweet(a,this.accounts,e)}:a.event?{type:"event",data:t.Streaming.Event(a,this.accounts,e)}:a["delete"]&&a["delete"].status?{type:"delete",data:a["delete"].status}:{}}},t.Streaming.MessageParser=e}(Violet);
!function(t){var n=t.Util,e=t.HTTPClient,r="https://api.twitter.com/1.1/",a="https://upload.twitter.com/1.1/",i=function(t,i,o,s,c){var l=s?a:r,u={callback:function(){},errorback:function(){}},p=function(r,a){a=a||c.getPrimary().accountId;var u=n.resolveEndpoint(i,r),p=l+u+".json",d=c.getOAuthManager(a),h=new e({method:t,uri:p,data:r,multipart:s});h.setOAuthHeader(d.obtainOAuthParams(h,s)),h.addEventListener("load",function(t){var n=[JSON.parse(t.responseText)];"function"==typeof o&&(n=o.apply(null,n)),this.callback.apply(null,n)}.bind(this)),h.addEventListener("error",function(t){this.errorback.apply(null,[a,JSON.parse(t.responseText)])}.bind(this)),h.start()}.bind(u);return p.on=function(t,n){"success"===t?this.callback=n:"error"===t&&(this.errorback=n)}.bind(u),p};t.RESTRequest=i}(Violet);
!function(t){var s=(t.Util,t.RESTRequest),e=function(s){this._accounts=s,this._registerMethods("statuses",t.REST.Statuses),this._registerMethods("favorites",t.REST.Favorites),this._registerMethods("media",t.REST.Media)};e.prototype={_registerMethods:function(t,e){var i={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];i[r]=s(o.method,o.path,o.responseProc,o.multipart||!1,this._accounts)}this[t]=i}},t.REST=e}(Violet);
!function(e){var t=e.Tweet,n={mentionsTimeline:{method:"GET",path:"statuses/mentions_timeline",responseProc:function(e){return[e.map(function(e){return new t(e)})]}},userTimeline:{method:"GET",path:"statuses/user_timeline",responseProc:function(e){return[e.map(function(e){return new t(e)})]}},homeTimeline:{method:"GET",path:"statuses/home_timeline",responseProc:function(e){return[e.map(function(e){return new t(e)})]}},retweetsOfMe:{method:"GET",path:"statuses/retweets_of_me",responseProc:function(e){return[e.map(function(e){return new t(e)})]}},retweets:{method:"GET",path:"statuses/retweets/:id",responseProc:function(e){return[e.map(function(e){return new t(e)})]}},show:{method:"GET",path:"statuses/show/:id",responseProc:function(e){return[new t(e)]}},destroy:{method:"POST",path:"statuses/destroy/:id",responseProc:function(e){return[new t(e)]}},update:{method:"POST",path:"statuses/update",responseProc:function(e){return[new t(e)]}},retweet:{method:"POST",path:"statuses/retweet/:id",responseProc:function(e){return[new t(e)]}}};e.REST.Statuses=n}(Violet);
!function(e){var t=e.Tweet,r={list:{method:"GET",path:"favorites/list",responseProc:function(e){return[e.map(function(e){return new t(e)})]}},destroy:{method:"POST",path:"favorites/destroy",responseProc:function(e){return[new t(e)]}},create:{method:"POST",path:"favorites/create",responseProc:function(e){return[new t(e)]}}};e.REST.Favorites=r}(Violet);
!function(o){var t={upload:{method:"POST",path:"media/upload",responseProc:function(o){return[o]},multipart:!0}};o.REST.Media=t}(Violet);
var CryptoJS=CryptoJS||function(t,n){var i={},r=i.lib={},e=r.Base=function(){function t(){}return{extend:function(n){t.prototype=this;var i=new t;return n&&i.mixIn(n),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=r.WordArray=e.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=n?i:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes,e=t.sigBytes;if(this.clamp(),r%4)for(var s=0;e>s;s++){var o=i[s>>>2]>>>24-s%4*8&255;n[r+s>>>2]|=o<<24-(r+s)%4*8}else if(i.length>65535)for(var s=0;e>s;s+=4)n[r+s>>>2]=i[s>>>2];else n.push.apply(n,i);return this.sigBytes+=e,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=e.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i,r=[],e=function(n){var n=n,i=987654321,r=4294967295;return function(){i=36969*(65535&i)+(i>>16)&r,n=18e3*(65535&n)+(n>>16)&r;var e=(i<<16)+n&r;return e/=4294967296,e+=.5,e*(t.random()>.5?1:-1)}},o=0;n>o;o+=4){var a=e(4294967296*(i||t.random()));i=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,n)}}),o=i.enc={},a=o.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;i>e;e++){var s=n[e>>>2]>>>24-e%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;n>r;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(i,n/2)}},c=o.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;i>e;e++){var s=n[e>>>2]>>>24-e%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;n>r;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(i,n)}},u=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=r.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,r=i.words,e=i.sigBytes,o=this.blockSize,a=4*o,c=e/a;c=n?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*o,f=t.min(4*u,e);if(u){for(var h=0;u>h;h+=o)this._doProcessBlock(r,h);var p=r.splice(0,u);i.sigBytes-=f}return new s.init(p,f)},clone:function(){var t=e.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(r.Hasher=f.extend({cfg:e.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var n=this._doFinalize();return n},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new h.HMAC.init(t,i).finalize(n)}}}),i.algo={});return i}(Math);
!function(){var e=CryptoJS,t=e.lib,s=t.WordArray,a=t.Hasher,r=e.algo,o=[],h=r.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var s=this._hash.words,a=s[0],r=s[1],h=s[2],i=s[3],n=s[4],c=0;80>c;c++){if(16>c)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}var _=(a<<5|a>>>27)+n+o[c];_+=20>c?(r&h|~r&i)+1518500249:40>c?(r^h^i)+1859775393:60>c?(r&h|r&i|h&i)-1894007588:(r^h^i)-899497514,n=i,i=h,h=r<<30|r>>>2,r=a,a=_}s[0]=s[0]+a|0,s[1]=s[1]+r|0,s[2]=s[2]+h|0,s[3]=s[3]+i|0,s[4]=s[4]+n|0},_doFinalize:function(){var e=this._data,t=e.words,s=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[(a+64>>>9<<4)+14]=Math.floor(s/4294967296),t[(a+64>>>9<<4)+15]=s,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=a._createHelper(h),e.HmacSHA1=a._createHmacHelper(h)}();
!function(){{var e=CryptoJS,i=e.lib,t=i.Base,s=e.enc,n=s.Utf8,r=e.algo;r.HMAC=t.extend({init:function(e,i){e=this._hasher=new e.init,"string"==typeof i&&(i=n.parse(i));var t=e.blockSize,s=4*t;i.sigBytes>s&&(i=e.finalize(i)),i.clamp();for(var r=this._oKey=i.clone(),a=this._iKey=i.clone(),h=r.words,o=a.words,c=0;t>c;c++)h[c]^=1549556828,o[c]^=909522486;r.sigBytes=a.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var i=this._hasher,t=i.finalize(e);i.reset();var s=i.finalize(this._oKey.clone().concat(t));return s}})}}();
!function(){{var r=CryptoJS,a=r.lib,t=a.WordArray,i=r.enc;i.Base64={stringify:function(r){var a=r.words,t=r.sigBytes,i=this._map;r.clamp();for(var n=[],f=0;t>f;f+=3)for(var e=a[f>>>2]>>>24-f%4*8&255,c=a[f+1>>>2]>>>24-(f+1)%4*8&255,h=a[f+2>>>2]>>>24-(f+2)%4*8&255,o=e<<16|c<<8|h,s=0;4>s&&t>f+.75*s;s++)n.push(i.charAt(o>>>6*(3-s)&63));var v=i.charAt(64);if(v)for(;n.length%4;)n.push(v);return n.join("")},parse:function(r){var a=r.length,i=this._map,n=i.charAt(64);if(n){var f=r.indexOf(n);-1!=f&&(a=f)}for(var e=[],c=0,h=0;a>h;h++)if(h%4){var o=i.indexOf(r.charAt(h-1))<<h%4*2,s=i.indexOf(r.charAt(h))>>>6-h%4*2;e[c>>>2]|=(o|s)<<24-c%4*8,c++}return t.create(e,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJ1dGlsLmpzIiwiaHR0cC5qcyIsIm9hdXRoLmpzIiwiYWNjb3VudHMuanMiLCJ0d2VldC5qcyIsInVzZXIuanMiLCJzdHJlYW1pbmcuanMiLCJtZXNzYWdlX3BhcnNlci5qcyIsInJlcXVlc3QuanMiLCJyZXN0LmpzIiwic3RhdHVzZXMuanMiLCJmYXZvcml0ZXMuanMiLCJtZWRpYS5qcyIsImNvcmUuanMiLCJzaGExLmpzIiwiaG1hYy5qcyIsImVuYy1iYXNlNjQuanMiXSwibmFtZXMiOlsiVmlvbGV0Iiwia2V5cyIsInRoaXMiLCJhY2NvdW50cyIsIkFjY291bnRzIiwicmVzdCIsIlJFU1QiLCJzdHJlYW1pbmciLCJTdHJlYW1pbmciLCJVdGlsIiwiVVJJRW5jb2RlIiwidGV4dCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJlc2NhcGUiLCJtZXJnZU1hcHMiLCJpIiwiaiIsInNyYyIsImRzdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIk9iamVjdCIsInJlc29sdmVFbmRwb2ludCIsImVuZHBvaW50IiwicGFyYW1zIiwidW5kZWZpbmVkIiwicGF0aCIsImtleSIsInNwbGl0Iiwiam9pbiIsIkhUVFBDbGllbnQiLCJhcmdzIiwibXVsdGlwYXJ0IiwibWV0aG9kIiwiZm9ybWF0VVJJQW5kRGF0YSIsInVyaSIsImRhdGEiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm1velN5c3RlbSIsImF1dGhvcml6YXRpb25IZWFkZXIiLCJwcm90b3R5cGUiLCJzdGFydCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsInN0b3AiLCJhYm9ydCIsInJhd1VSSSIsInJhd0RhdGEiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJzZXRPQXV0aEhlYWRlciIsIk9BdXRoUGFyYW1zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2FsbGJhY2siLCJjYWxsIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJPQXV0aCIsImNvbnN1bWVyS2V5IiwiY29uc3VtZXJTZWNyZXQiLCJhY2Nlc3NUb2tlbiIsImFjY2Vzc1Rva2VuU2VjcmV0IiwiT0F1dGhUb2tlbiIsIk9BdXRoVG9rZW5TZWNyZXQiLCJyZXF1ZXN0VG9rZW4iLCJjbGllbnQiLCJvYXV0aF9jYWxsYmFjayIsIl9vYnRhaW5PQXV0aFBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVzIiwicmVzcG9uc2VUZXh0IiwiZm9yRWFjaCIsImtleVZhbHVlIiwia3YiLCJvYXV0aF90b2tlbiIsIm9hdXRoX3Rva2VuX3NlY3JldCIsIm9idGFpbkFjY2Vzc1Rva2VuV2l0aFBJTiIsIlBJTiIsIm9hdXRoX3ZlcmlmaWVyIiwib2J0YWluT0F1dGhQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zIiwic2VjcmV0Iiwib2F1dGhfY29uc3VtZXJfa2V5Iiwib2F1dGhfbm9uY2UiLCJfZ2VuZXJhdGVOb25jZSIsIm9hdXRoX3NpZ25hdHVyZV9tZXRob2QiLCJvYXV0aF90aW1lc3RhbXAiLCJTdHJpbmciLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwib2F1dGhfdmVyc2lvbiIsIm9hdXRoX3BhcmFtcyIsIm9hdXRoX3NpZ25hdHVyZSIsIl9nZW5lcmF0ZVNpZ25hdHVyZSIsInNlZWQiLCJub25jZSIsInJhbmRvbSIsIk9BdXRoU2VjcmV0IiwiYmFzZVN0cmluZyIsInRvVXBwZXJDYXNlIiwic29ydCIsIm1hcCIsInNlY3JldEtleSIsIkNyeXB0b0pTIiwiSG1hY1NIQTEiLCJ0b1N0cmluZyIsImVuYyIsIkJhc2U2NCIsIl9hY2NvdW50cyIsIl9wcmltYXJ5SWQiLCJfb2F1dGgiLCJyZXF1ZXN0QXV0aG9yaXplVVJJIiwidXJpX2Jhc2UiLCJyZWplY3QiLCJ0aGVuIiwiYWRkV2l0aFBJTiIsInBpbiIsImFkZCIsInVzZXJfaWQiLCJzY3JlZW5fbmFtZSIsImFjY291bnRJZCIsInNjcmVlbk5hbWUiLCJzZXRQcmltYXJ5IiwiZ2V0TGlzdCIsImdldCIsImdldFByaW1hcnkiLCJnZXRPQXV0aE1hbmFnZXIiLCJhY2NvdW50IiwicmVtb3ZlIiwiVHdlZXQiLCJ0d2VldERhdGEiLCJfYWNjb3VudElkIiwiX2luaXRXaXRoVHdlZXQiLCJ0d2VldCIsImF0dHJpYnV0ZXMiLCJyZXR3ZWV0ZWRfc3RhdHVzIiwicmV0d2VldGVkX2lkIiwiaWRfc3RyIiwicmV0d2VldGVkX3VzZXIiLCJVc2VyIiwidXNlciIsInJldHdlZXRlZF9hdCIsImNyZWF0ZWRfYXQiLCJhdHRyaWJ1dGUiLCJpZCIsInNvdXJjZSIsIm5hbWUiLCJtYXRjaCIsInVybCIsInVzZXJEYXRhIiwiX2luaXRXaXRoVXNlciIsIm1lc3NhZ2VQYXJzZXIiLCJNZXNzYWdlUGFyc2VyIiwiX2V2ZW50cyIsIl9jb25uZWN0aW9ucyIsInVzZXJTdHJlYW0iLCJmaWx0ZXJTdHJlYW0iLCJhcGlCYXNlVVJJIiwiZW5kcG9pbnRzIiwib24iLCJzdGFydFVzZXJTdHJlYW0iLCJzdHJlYW1UeXBlIiwiX3N0YXJ0U3RyZWFtaW5nIiwic3RvcFVzZXJTdHJlYW0iLCJzdGFydEZpbHRlclN0cmVhbSIsInN0b3BGaWx0ZXJTdHJlYW0iLCJvYXV0aCIsImNvbm4iLCJtZXNzYWdlcyIsIl9wYXJzZVN0cmVhbSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlIiwicGFyc2VkTWVzc2FnZSIsInR5cGUiLCJFdmVudCIsInN0YXR1cyIsInJlc3RCYXNlVVJJIiwidXBsb2FkQmFzZVVSSSIsIlJFU1RSZXF1ZXN0IiwicmVzcG9uc2VQcm9jIiwicmVxVGhpcyIsImVycm9yYmFjayIsInJlcUZ1bmN0aW9uIiwiYXBwbHkiLCJSZXF1ZXN0IiwiX3JlZ2lzdGVyTWV0aG9kcyIsIlN0YXR1c2VzIiwiRmF2b3JpdGVzIiwiTWVkaWEiLCJjYXRlZ29yeSIsIm1ldGhvZHMiLCJsYWJlbCIsIm1lbnRpb25zVGltZWxpbmUiLCJ1c2VyVGltZWxpbmUiLCJob21lVGltZWxpbmUiLCJyZXR3ZWV0c09mTWUiLCJyZXR3ZWV0cyIsInNob3ciLCJkZXN0cm95IiwidXBkYXRlIiwicmV0d2VldCIsImxpc3QiLCJjcmVhdGUiLCJ1cGxvYWQiLCJtZXNzYWdlIiwiQyIsIkNfbGliIiwibGliIiwiQmFzZSIsIkYiLCJleHRlbmQiLCJvdmVycmlkZXMiLCJzdWJ0eXBlIiwibWl4SW4iLCJpbml0IiwiJHN1cGVyIiwiaW5zdGFuY2UiLCJwcm9wZXJ0aWVzIiwicHJvcGVydHlOYW1lIiwiY2xvbmUiLCJXb3JkQXJyYXkiLCJ3b3JkcyIsInNpZ0J5dGVzIiwiZW5jb2RlciIsIkhleCIsInN0cmluZ2lmeSIsImNvbmNhdCIsIndvcmRBcnJheSIsInRoaXNXb3JkcyIsInRoYXRXb3JkcyIsInRoaXNTaWdCeXRlcyIsInRoYXRTaWdCeXRlcyIsImNsYW1wIiwidGhhdEJ5dGUiLCJjZWlsIiwic2xpY2UiLCJuQnl0ZXMiLCJyY2FjaGUiLCJyIiwibV93IiwibV96IiwibWFzayIsInJlc3VsdCIsIl9yIiwiQ19lbmMiLCJoZXhDaGFycyIsImJpdGUiLCJoZXhTdHIiLCJoZXhTdHJMZW5ndGgiLCJwYXJzZUludCIsInN1YnN0ciIsIkxhdGluMSIsImxhdGluMUNoYXJzIiwiZnJvbUNoYXJDb2RlIiwibGF0aW4xU3RyIiwibGF0aW4xU3RyTGVuZ3RoIiwiY2hhckNvZGVBdCIsIlV0ZjgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlIiwiRXJyb3IiLCJ1dGY4U3RyIiwidW5lc2NhcGUiLCJCdWZmZXJlZEJsb2NrQWxnb3JpdGhtIiwicmVzZXQiLCJfZGF0YSIsIl9uRGF0YUJ5dGVzIiwiX2FwcGVuZCIsIl9wcm9jZXNzIiwiZG9GbHVzaCIsImRhdGFXb3JkcyIsImRhdGFTaWdCeXRlcyIsImJsb2NrU2l6ZSIsImJsb2NrU2l6ZUJ5dGVzIiwibkJsb2Nrc1JlYWR5IiwibWF4IiwiX21pbkJ1ZmZlclNpemUiLCJuV29yZHNSZWFkeSIsIm5CeXRlc1JlYWR5IiwibWluIiwib2Zmc2V0IiwiX2RvUHJvY2Vzc0Jsb2NrIiwicHJvY2Vzc2VkV29yZHMiLCJzcGxpY2UiLCJDX2FsZ28iLCJIYXNoZXIiLCJjZmciLCJfZG9SZXNldCIsIm1lc3NhZ2VVcGRhdGUiLCJmaW5hbGl6ZSIsImhhc2giLCJfZG9GaW5hbGl6ZSIsIl9jcmVhdGVIZWxwZXIiLCJoYXNoZXIiLCJfY3JlYXRlSG1hY0hlbHBlciIsIkhNQUMiLCJhbGdvIiwiVyIsIlNIQTEiLCJfaGFzaCIsIk0iLCJIIiwiYSIsImIiLCJjIiwiZCIsIm4iLCJ0IiwibkJpdHNUb3RhbCIsIm5CaXRzTGVmdCIsIl9oYXNoZXIiLCJoYXNoZXJCbG9ja1NpemUiLCJoYXNoZXJCbG9ja1NpemVCeXRlcyIsIm9LZXkiLCJfb0tleSIsImlLZXkiLCJfaUtleSIsIm9LZXlXb3JkcyIsImlLZXlXb3JkcyIsImlubmVySGFzaCIsImhtYWMiLCJfbWFwIiwiYmFzZTY0Q2hhcnMiLCJieXRlMSIsImJ5dGUyIiwiYnl0ZTMiLCJ0cmlwbGV0IiwiY2hhckF0IiwicGFkZGluZ0NoYXIiLCJiYXNlNjRTdHIiLCJiYXNlNjRTdHJMZW5ndGgiLCJwYWRkaW5nSW5kZXgiLCJpbmRleE9mIiwiYml0czEiLCJiaXRzMiJdLCJtYXBwaW5ncyI6IkFBSUEsR0FBSUEsUUFBUyxTQUFVQyxHQUNyQkMsS0FBS0MsU0FBVyxHQUFJSCxRQUFPSSxTQUFTSCxHQUNwQ0MsS0FBS0csS0FBTyxHQUFJTCxRQUFPTSxLQUFLSixLQUFLQyxVQUNqQ0QsS0FBS0ssVUFBWSxHQUFJUCxRQUFPUSxVQUFVTixLQUFLQztDQ0g3QyxTQUFVSCxHQUNSLEdBQUlTLEtBRUpBLEdBQUtDLFVBQVksU0FBU0MsR0FDeEIsTUFBT0Msb0JBQW1CRCxHQUFNRSxRQUFRLFVBQVdDLFFBQVFELFFBQVEsTUFBTyxRQUc1RUosRUFBS00sVUFBWSxXQUNmLEdBQ0lDLEdBQUdDLEVBQUdDLEVBQUtqQixFQURYa0IsSUFHSixLQUFLSCxFQUFJLEVBQUdBLEVBQUlJLFVBQVVDLE9BQVFMLElBSWhDLElBSEFFLEVBQU1FLFVBQVVKLEdBQ2hCZixFQUFPcUIsT0FBT3JCLEtBQUtpQixHQUVkRCxFQUFJLEVBQUdBLEVBQUloQixFQUFLb0IsT0FBUUos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QUksRUFBSyxFQUMzRHFVLEVBQVExTyxFQUFJd08sUUFBUUgsRUFBVUYsT0FBTzlULE1BQVMsRUFBS0EsRUFBSSxFQUFLLENBQ2hFb04sR0FBTWUsSUFBVyxLQUFPaUcsRUFBUUMsSUFBVyxHQUFNbEcsRUFBUyxFQUFLLEVBQy9EQSxJQUlSLE1BQU9oQixHQUFVbEIsT0FBT21CLEVBQU9lLElBR25DcUYsS0FBTSIsImZpbGUiOiJ2aW9sZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9cbi8vIHZpb2xldC5qc1xuLy9cblxudmFyIFZpb2xldCA9IGZ1bmN0aW9uIChrZXlzKSB7XG4gIHRoaXMuYWNjb3VudHMgPSBuZXcgVmlvbGV0LkFjY291bnRzKGtleXMpO1xuICB0aGlzLnJlc3QgPSBuZXcgVmlvbGV0LlJFU1QodGhpcy5hY2NvdW50cyk7XG4gIHRoaXMuc3RyZWFtaW5nID0gbmV3IFZpb2xldC5TdHJlYW1pbmcodGhpcy5hY2NvdW50cyk7XG59O1xuIiwiLy9cbi8vIFZpb2xldC5VdGlsXG4vL1xuXG4oZnVuY3Rpb24oVmlvbGV0KSB7XG4gIHZhciBVdGlsID0ge307XG5cbiAgVXRpbC5VUklFbmNvZGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KS5yZXBsYWNlKC9bIScoKV0vZywgZXNjYXBlKS5yZXBsYWNlKC9cXCovZywgXCIlMkFcIik7XG4gIH07XG5cbiAgVXRpbC5tZXJnZU1hcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRzdCA9IHt9O1xuICAgIHZhciBpLCBqLCBzcmMsIGtleXM7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzcmMgPSBhcmd1bWVudHNbaV07XG4gICAgICBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcblxuICAgICAgZm9yIChqID0gMDsgaiA8IGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZHN0W2tleXNbal1dID0gc3JjW2tleXNbal1dO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkc3Q7XG4gIH07XG5cbiAgVXRpbC5yZXNvbHZlRW5kcG9pbnQgPSBmdW5jdGlvbihlbmRwb2ludCwgcGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYXJhbXMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IGVuZHBvaW50O1xuICAgIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcbiAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCc6JyArIGtleSkuam9pbihwYXJhbXNba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xuICB9O1xuXG4gIFZpb2xldC5VdGlsID0gVXRpbDtcbn0pKFZpb2xldCk7XG4iLCIvL1xuLy8gVmlvbGV0LkhUVFBDbGllbnRcbi8vXG5cbihmdW5jdGlvbihWaW9sZXQpIHtcbiAgdmFyIEhUVFBDbGllbnQgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgdGhpcy5tdWx0aXBhcnQgPSBhcmdzLm11bHRpcGFydCA9PT0gdHJ1ZTtcbiAgICB0aGlzLm1ldGhvZCA9IGFyZ3MubWV0aG9kIHx8ICdHRVQnO1xuICAgIHRoaXMuZm9ybWF0VVJJQW5kRGF0YShhcmdzLnVyaSB8fCAnJywgYXJncy5kYXRhIHx8IHt9KTtcbiAgICB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCh7bW96U3lzdGVtOiB0cnVlfSk7XG4gICAgdGhpcy5hdXRob3JpemF0aW9uSGVhZGVyID0gbnVsbDtcbiAgfTtcblxuICBIVFRQQ2xpZW50LnByb3RvdHlwZSA9IHtcbiAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy51cmkgPT09ICcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVyaSwgdHJ1ZSk7XG5cbiAgICAgIGlmICh0aGlzLmF1dGhvcml6YXRpb25IZWFkZXIgIT09IG51bGwpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmF1dGhvcml6YXRpb25IZWFkZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09ICdQT1NUJyAmJiAhdGhpcy5tdWx0aXBhcnQpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQodGhpcy5kYXRhKTtcbiAgICB9LFxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9LFxuICAgIGZvcm1hdFVSSUFuZERhdGE6IGZ1bmN0aW9uIChyYXdVUkksIHJhd0RhdGEpIHtcbiAgICAgIGlmICh0aGlzLm11bHRpcGFydCkge1xuICAgICAgICB0aGlzLnVyaSA9IHJhd1VSSTtcbiAgICAgICAgdGhpcy5kYXRhID0gcmF3RGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXksIGRhdGEgPSBbXTtcbiAgICAgICAgZm9yIChrZXkgaW4gcmF3RGF0YSkge1xuICAgICAgICAgIGlmIChyYXdEYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGRhdGEucHVzaChrZXkgKyAnPScgKyBWaW9sZXQuVXRpbC5VUklFbmNvZGUocmF3RGF0YVtrZXldKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yYXdEYXRhID0gcmF3RGF0YTtcbiAgICAgICAgaWYgKHRoaXMubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICAgIHRoaXMudXJpID0gIHJhd1VSSSArICgoZGF0YS5sZW5ndGggPiAwKSA/ICc/JyArIGRhdGEuam9pbignJicpIDogJycpO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICAgIHRoaXMudXJpID0gcmF3VVJJO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuam9pbignJicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRPQXV0aEhlYWRlcjogZnVuY3Rpb24oT0F1dGhQYXJhbXMpIHtcbiAgICAgIHZhciBrZXkgPSAnJywgcGFyYW1zID0gW107XG4gICAgICBmb3IgKGtleSBpbiBPQXV0aFBhcmFtcykge1xuICAgICAgICBpZiAoT0F1dGhQYXJhbXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKGtleSArICc9XCInICsgT0F1dGhQYXJhbXNba2V5XSArICdcIicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmF1dGhvcml6YXRpb25IZWFkZXIgPSAnT0F1dGggJyArIHBhcmFtcy5qb2luKCcsICcpO1xuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnhoci5hZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcy54aHIsIGV2ZW50LCBmdW5jdGlvbigpIHsgY2FsbGJhY2sodGhpcy54aHIpOyB9LmJpbmQodGhpcykpO1xuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcy54aHIsIGV2ZW50LCBmdW5jdGlvbigpIHsgY2FsbGJhY2sodGhpcy54aHIpOyB9LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfTtcblxuICBWaW9sZXQuSFRUUENsaWVudCA9IEhUVFBDbGllbnQ7XG59KShWaW9sZXQpO1xuIiwiLy9cbi8vIFZpb2xldC5PQXV0aFxuLy9cblxuKGZ1bmN0aW9uKFZpb2xldCkge1xuICB2YXIgVXRpbCA9IFZpb2xldC5VdGlsO1xuICB2YXIgSFRUUENsaWVudCA9IFZpb2xldC5IVFRQQ2xpZW50O1xuXG4gIHZhciBPQXV0aCA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICB0aGlzLmNvbnN1bWVyS2V5ID0gYXJncy5jb25zdW1lcktleTtcbiAgICB0aGlzLmNvbnN1bWVyU2VjcmV0ID0gYXJncy5jb25zdW1lclNlY3JldDtcblxuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhcmdzLmFjY2Vzc1Rva2VuIHx8ICcnO1xuICAgIHRoaXMuYWNjZXNzVG9rZW5TZWNyZXQgPSBhcmdzLmFjY2Vzc1Rva2VuU2VjcmV0IHx8ICcnO1xuXG4gICAgdGhpcy5PQXV0aFRva2VuID0gJyc7XG4gICAgdGhpcy5PQXV0aFRva2VuU2VjcmV0ID0gJyc7XG4gIH07XG5cbiAgT0F1dGgucHJvdG90eXBlID0ge1xuICAgIHJlcXVlc3RUb2tlbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgdmFyIHVyaSA9ICdodHRwczovL2FwaS50d2l0dGVyLmNvbS9vYXV0aC9yZXF1ZXN0X3Rva2VuJztcblxuICAgICAgdmFyIGNsaWVudCA9IG5ldyBIVFRQQ2xpZW50KHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHVyaTogdXJpXG4gICAgICB9KTtcblxuICAgICAgdmFyIE9BdXRoUGFyYW1zID0ge1xuICAgICAgICBvYXV0aF9jYWxsYmFjazogJ29vYicsXG4gICAgICB9O1xuICAgICAgT0F1dGhQYXJhbXMgPSB0aGlzLl9vYnRhaW5PQXV0aFBhcmFtcyhjbGllbnQsIE9BdXRoUGFyYW1zLCAnJyk7XG4gICAgICBjbGllbnQuc2V0T0F1dGhIZWFkZXIoT0F1dGhQYXJhbXMpO1xuXG4gICAgICBjbGllbnQuc3RhcnQoKTtcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgIHZhciByZXMgPSB7fTtcbiAgICAgICAgICB4aHIucmVzcG9uc2VUZXh0LnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbihrZXlWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGt2ID0ga2V5VmFsdWUuc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIHJlc1trdlswXV0gPSBrdlsxXTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuT0F1dGhUb2tlbiA9IHJlcy5vYXV0aF90b2tlbjtcbiAgICAgICAgICB0aGlzLk9BdXRoVG9rZW5TZWNyZXQgPSByZXMub2F1dGhfdG9rZW5fc2VjcmV0O1xuICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcbiAgICBvYnRhaW5BY2Nlc3NUb2tlbldpdGhQSU46IGZ1bmN0aW9uKFBJTikge1xuICAgICAgdmFyIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIHZhciB1cmkgPSAnaHR0cHM6Ly9hcGkudHdpdHRlci5jb20vb2F1dGgvYWNjZXNzX3Rva2VuJztcblxuICAgICAgdmFyIGNsaWVudCA9IG5ldyBIVFRQQ2xpZW50KHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHVyaTogdXJpXG4gICAgICB9KTtcblxuICAgICAgdmFyIE9BdXRoUGFyYW1zID0ge1xuICAgICAgICBvYXV0aF90b2tlbjogdGhpcy5PQXV0aFRva2VuLFxuICAgICAgICBvYXV0aF92ZXJpZmllcjogUElOLFxuICAgICAgfTtcbiAgICAgIE9BdXRoUGFyYW1zID0gdGhpcy5fb2J0YWluT0F1dGhQYXJhbXMoY2xpZW50LCBPQXV0aFBhcmFtcywgdGhpcy5PQXV0aFRva2VuU2VjcmV0KTtcbiAgICAgIGNsaWVudC5zZXRPQXV0aEhlYWRlcihPQXV0aFBhcmFtcyk7XG5cbiAgICAgIGNsaWVudC5zdGFydCgpO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgIHhoci5yZXNwb25zZVRleHQuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGtleVZhbHVlKSB7XG4gICAgICAgICAgICB2YXIga3YgPSBrZXlWYWx1ZS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgcmVzW2t2WzBdXSA9IGt2WzFdO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9idGFpbk9BdXRoUGFyYW1zOiBmdW5jdGlvbihjbGllbnQsIG11bHRpcGFydCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgb2F1dGhfdG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhpcy5fb2J0YWluT0F1dGhQYXJhbXMoY2xpZW50LCBwYXJhbXMsIHRoaXMuYWNjZXNzVG9rZW5TZWNyZXQsIG11bHRpcGFydCk7XG4gICAgfSxcbiAgICBfb2J0YWluT0F1dGhQYXJhbXM6IGZ1bmN0aW9uKGNsaWVudCwgYWRkaXRpb25hbFBhcmFtcywgc2VjcmV0LCBtdWx0aXBhcnQpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBVdGlsLm1lcmdlTWFwcyh7XG4gICAgICAgIG9hdXRoX2NvbnN1bWVyX2tleTogdGhpcy5jb25zdW1lcktleSxcbiAgICAgICAgb2F1dGhfbm9uY2U6IHRoaXMuX2dlbmVyYXRlTm9uY2UoMzIpLFxuICAgICAgICBvYXV0aF9zaWduYXR1cmVfbWV0aG9kOiAnSE1BQy1TSEExJyxcbiAgICAgICAgb2F1dGhfdGltZXN0YW1wOiBTdHJpbmcoTWF0aC5mbG9vcigobmV3IERhdGUoKSkvMTAwMCkpLFxuICAgICAgICBvYXV0aF92ZXJzaW9uOiAnMS4wJ1xuICAgICAgfSwgYWRkaXRpb25hbFBhcmFtcyk7XG5cbiAgICAgIHZhciBvYXV0aF9wYXJhbXMgPSAobXVsdGlwYXJ0KT8gcGFyYW1zIDogVXRpbC5tZXJnZU1hcHMocGFyYW1zLCBjbGllbnQucmF3RGF0YSk7XG5cbiAgICAgIHBhcmFtcy5vYXV0aF9zaWduYXR1cmUgPSB0aGlzLl9nZW5lcmF0ZVNpZ25hdHVyZShjbGllbnQubWV0aG9kLCBjbGllbnQudXJpLCBvYXV0aF9wYXJhbXMsIHNlY3JldCk7XG5cbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfSxcbiAgICBfZ2VuZXJhdGVOb25jZTogZnVuY3Rpb24obGVuZ3RoKSB7XG4gICAgICB2YXIgc2VlZCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OScuc3BsaXQoJycpO1xuICAgICAgdmFyIGksIG5vbmNlID0gJyc7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbm9uY2UgKz0gc2VlZFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2MSldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9uY2U7XG4gICAgfSxcbiAgICBfZ2VuZXJhdGVTaWduYXR1cmU6IGZ1bmN0aW9uKG1ldGhvZCwgdXJpLCBwYXJhbXMsIE9BdXRoU2VjcmV0KSB7XG4gICAgICB2YXIgYmFzZVN0cmluZyA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpICsgJyYnICsgVXRpbC5VUklFbmNvZGUodXJpKSArICcmJztcblxuICAgICAgYmFzZVN0cmluZyArPSBVdGlsLlVSSUVuY29kZShPYmplY3Qua2V5cyhwYXJhbXMpLnNvcnQoKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgKyAnPScgKyBVdGlsLlVSSUVuY29kZShwYXJhbXNba2V5XSk7XG4gICAgICB9KS5qb2luKCcmJykpO1xuXG4gICAgICBpZiAoIU9BdXRoU2VjcmV0KSB7XG4gICAgICAgIE9BdXRoU2VjcmV0ID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWNyZXRLZXkgPSB0aGlzLmNvbnN1bWVyU2VjcmV0ICsgJyYnICsgT0F1dGhTZWNyZXQ7XG4gICAgICByZXR1cm4gVXRpbC5VUklFbmNvZGUoQ3J5cHRvSlMuSG1hY1NIQTEoYmFzZVN0cmluZywgc2VjcmV0S2V5KS50b1N0cmluZyhDcnlwdG9KUy5lbmMuQmFzZTY0KSk7XG4gICAgfVxuICB9O1xuXG4gIFZpb2xldC5PQXV0aCA9IE9BdXRoO1xufSkoVmlvbGV0KTtcbiIsIi8vXG4vLyBWaW9sZXQuQWNjb3VudHNcbi8vXG5cbihmdW5jdGlvbihWaW9sZXQpIHtcbiAgdmFyIEFjY291bnRzID0gZnVuY3Rpb24oa2V5cykge1xuICAgIHRoaXMuX2FjY291bnRzID0ge307XG4gICAgdGhpcy5fcHJpbWFyeUlkID0gJyc7XG4gICAgdGhpcy5fb2F1dGggPSBuZXcgVmlvbGV0Lk9BdXRoKGtleXMpO1xuICB9O1xuXG4gIEFjY291bnRzLnByb3RvdHlwZSA9IHtcbiAgICByZXF1ZXN0QXV0aG9yaXplVVJJOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1cmlfYmFzZSA9ICdodHRwczovL2FwaS50d2l0dGVyLmNvbS9vYXV0aC9hdXRob3JpemU/b2F1dGhfdG9rZW49JztcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdGhpcy5fb2F1dGgucmVxdWVzdFRva2VuKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmVzb2x2ZSh1cmlfYmFzZSArIHJlcy5vYXV0aF90b2tlbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG4gICAgYWRkV2l0aFBJTjogZnVuY3Rpb24ocGluKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHRoaXMuX29hdXRoLm9idGFpbkFjY2Vzc1Rva2VuV2l0aFBJTihwaW4pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHRoaXMuYWRkKHJlcy51c2VyX2lkLCByZXMuc2NyZWVuX25hbWUsIHJlcy5vYXV0aF90b2tlbiwgcmVzLm9hdXRoX3Rva2VuX3NlY3JldCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbihhY2NvdW50SWQsIHNjcmVlbk5hbWUsIGFjY2Vzc1Rva2VuLCBhY2Nlc3NUb2tlblNlY3JldCkge1xuICAgICAgdGhpcy5fYWNjb3VudHNbYWNjb3VudElkXSA9IHtcbiAgICAgICAgYWNjb3VudElkOiBhY2NvdW50SWQsXG4gICAgICAgIHNjcmVlbk5hbWU6IHNjcmVlbk5hbWUsXG4gICAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcbiAgICAgICAgYWNjZXNzVG9rZW5TZWNyZXQ6IGFjY2Vzc1Rva2VuU2VjcmV0XG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuX3ByaW1hcnlJZCA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5zZXRQcmltYXJ5KGFjY291bnRJZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRMaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9hY2NvdW50cykuc29ydCgpO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbihhY2NvdW50SWQpIHtcbiAgICAgIGFjY291bnRJZCA9IGFjY291bnRJZCB8fCB0aGlzLl9wcmltYXJ5SWQ7XG4gICAgICByZXR1cm4gdGhpcy5fYWNjb3VudHNbYWNjb3VudElkXSB8fCB7YWNjZXNzVG9rZW46ICcnLCBhY2Nlc3NUb2tlblNlY3JldDogJyd9O1xuICAgIH0sXG4gICAgc2V0UHJpbWFyeTogZnVuY3Rpb24oYWNjb3VudElkKSB7XG4gICAgICBpZiAodGhpcy5fYWNjb3VudHNbYWNjb3VudElkXSkge1xuICAgICAgICB0aGlzLl9wcmltYXJ5SWQgPSBhY2NvdW50SWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRQcmltYXJ5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLl9wcmltYXJ5SWQpO1xuICAgIH0sXG4gICAgZ2V0T0F1dGhNYW5hZ2VyOiBmdW5jdGlvbihhY2NvdW50SWQpIHtcbiAgICAgIHZhciBhY2NvdW50ID0gdGhpcy5nZXQoYWNjb3VudElkKTtcbiAgICAgIHRoaXMuX29hdXRoLmFjY2Vzc1Rva2VuID0gYWNjb3VudC5hY2Nlc3NUb2tlbjtcbiAgICAgIHRoaXMuX29hdXRoLmFjY2Vzc1Rva2VuU2VjcmV0ID0gYWNjb3VudC5hY2Nlc3NUb2tlblNlY3JldDtcbiAgICAgIHJldHVybiB0aGlzLl9vYXV0aDtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24oYWNjb3VudElkKSB7XG4gICAgICBkZWxldGUgdGhpcy5fYWNjb3VudHNbYWNjb3VudElkXTtcbiAgICAgIGlmICh0aGlzLl9wcmltYXJ5SWQgPT09IGFjY291bnRJZCkge1xuICAgICAgICB0aGlzLl9wcmltYXJ5SWQgPSBPYmplY3Qua2V5cyh0aGlzLl9hY2NvdW50cykuc29ydCgpWzBdIHx8ICcnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBWaW9sZXQuQWNjb3VudHMgPSBBY2NvdW50cztcbn0pKFZpb2xldCk7XG4iLCIvL1xuLy8gVmlvbGV0LlR3ZWV0XG4vL1xuXG4oZnVuY3Rpb24oVmlvbGV0KSB7XG4gIHZhciBUd2VldCA9IGZ1bmN0aW9uKHR3ZWV0RGF0YSwgYWNjb3VudHMsIGFjY291bnRJZCkge1xuICAgIHRoaXMuX2FjY291bnRzID0gYWNjb3VudHM7XG4gICAgdGhpcy5fYWNjb3VudElkID0gYWNjb3VudElkO1xuICAgIHRoaXMuX2luaXRXaXRoVHdlZXQodHdlZXREYXRhKTtcbiAgfTtcblxuICBUd2VldC5wcm90b3R5cGUgPSB7XG4gICAgX2luaXRXaXRoVHdlZXQ6IGZ1bmN0aW9uKHR3ZWV0KXtcbiAgICAgIHZhciB0d2VldERhdGE7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IFtcInRleHRcIiwgXCJ0cnVuY2F0ZWRcIiwgXCJpbl9yZXBseV90b19zdGF0dXNfaWRcIiwgXCJpbl9yZXBseV90b19zdGF0dXNfaWRfc3RyXCIsIFwiaW5fcmVwbHlfdG9fdXNlcl9pZFwiLCBcImluX3JlcGx5X3RvX3VzZXJfaWRfc3RyXCIsIFwiaW5fcmVwbHlfdG9fc2NyZWVuX25hbWVcIiwgXCJnZW9cIiwgXCJjb29yZGluYXRlc1wiLCBcInBsYWNlXCIsIFwiY29udHJpYnV0b3JzXCIsIFwicmV0d2VldF9jb3VudFwiLCBcImZhdm9yaXRlX2NvdW50XCIsIFwiZW50aXRpZXNcIiwgXCJmYXZvcml0ZWRcIiwgXCJyZXR3ZWV0ZWRcIiwgXCJsYW5nXCJdO1xuXG4gICAgICBpZiAodHdlZXQucmV0d2VldGVkX3N0YXR1cykge1xuICAgICAgICB0aGlzLnJldHdlZXRlZF9zdGF0dXMgPSB0cnVlO1xuICAgICAgICB0aGlzLnJldHdlZXRlZF9pZCA9IHR3ZWV0LmlkX3N0cjtcbiAgICAgICAgdGhpcy5yZXR3ZWV0ZWRfdXNlciA9IG5ldyBWaW9sZXQuVXNlcih0d2VldC51c2VyLCB0aGlzLl9hY2NvdW50cywgdGhpcy5fYWNjb3VudElkKTtcbiAgICAgICAgdGhpcy5yZXR3ZWV0ZWRfYXQgPSBuZXcgRGF0ZSh0d2VldC5jcmVhdGVkX2F0KTtcbiAgICAgICAgdHdlZXREYXRhID0gdHdlZXQucmV0d2VldGVkX3N0YXR1cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmV0d2VldGVkX3N0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0d2VldERhdGEgPSB0d2VldDtcbiAgICAgIH1cblxuICAgICAgLy8gcmVnaXN0ZXIgYXR0cmlidXRlc1xuICAgICAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSkge1xuICAgICAgICB0aGlzW2F0dHJpYnV0ZV0gPSB0d2VldFthdHRyaWJ1dGVdIHx8IG51bGw7XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICB0aGlzLmlkID0gdHdlZXREYXRhLmlkX3N0cjtcbiAgICAgIHRoaXMudXNlciA9IG5ldyBWaW9sZXQuVXNlcih0d2VldERhdGEudXNlciwgdGhpcy5fYWNjb3VudHMsIHRoaXMuX2FjY291bnRJZCk7XG4gICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBuZXcgRGF0ZSh0d2VldERhdGEuY3JlYXRlZF9hdCk7XG4gICAgICB0aGlzLnNvdXJjZSA9IHtcbiAgICAgICAgbmFtZTogdHdlZXREYXRhLnNvdXJjZS5tYXRjaCgvPGEuKj4oLiopPFxcL2E+LylbMV0sXG4gICAgICAgIHVybDogdHdlZXREYXRhLnNvdXJjZS5tYXRjaCgvPGFcXHNocmVmPVxcXCIoLio/KVxcXCJcXHNyZWw9XFxcIm5vZm9sbG93XFxcIj4uKjxcXC9hPi8pWzFdXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBWaW9sZXQuVHdlZXQgPSBUd2VldDtcbn0pKFZpb2xldCk7XG4iLCIvL1xuLy8gVmlvbGV0LlVzZXJcbi8vXG5cbihmdW5jdGlvbihWaW9sZXQpIHtcbiAgdmFyIFVzZXIgPSBmdW5jdGlvbih1c2VyRGF0YSwgYWNjb3VudHMsIGFjY291bnRJZCkge1xuICAgIHRoaXMuX2FjY291bnRzID0gYWNjb3VudHM7XG4gICAgdGhpcy5fYWNjb3VudElkID0gYWNjb3VudElkO1xuICAgIHRoaXMuX2luaXRXaXRoVXNlcih1c2VyRGF0YSk7XG4gIH07XG5cbiAgVXNlci5wcm90b3R5cGUgPSB7XG4gICAgX2luaXRXaXRoVXNlcjogZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBbXCJuYW1lXCIsIFwic2NyZWVuX25hbWVcIiwgXCJsb2NhdGlvblwiLFxuICAgICAgICBcInByb2ZpbGVfbG9jYXRpb25cIiwgXCJkZXNjcmlwdGlvblwiLCBcInVybFwiLCBcImVudGl0aWVzXCIsIFwicHJvdGVjdGVkXCIsXG4gICAgICAgIFwiZm9sbG93ZXJzX2NvdW50XCIsIFwiZnJpZW5kc19jb3VudFwiLCBcImxpc3RlZF9jb3VudFwiLCBcImNyZWF0ZWRfYXRcIixcbiAgICAgICAgXCJmYXZvdXJpdGVzX2NvdW50XCIsIFwidXRjX29mZnNldFwiLCBcInRpbWVfem9uZVwiLCBcImdlb19lbmFibGVkXCIsIFwidmVyaWZpZWRcIixcbiAgICAgICAgXCJzdGF0dXNlc19jb3VudFwiLCBcImxhbmdcIiwgXCJjb250cmlidXRvcnNfZW5hYmxlZFwiLCBcImlzX3RyYW5zbGF0b3JcIixcbiAgICAgICAgXCJpc190cmFuc2xhdGlvbl9lbmFibGVkXCIsIFwicHJvZmlsZV9iYWNrZ3JvdW5kX2NvbG9yXCIsXG4gICAgICAgIFwicHJvZmlsZV9iYWNrZ3JvdW5kX2ltYWdlX3VybFwiLCBcInByb2ZpbGVfYmFja2dyb3VuZF9pbWFnZV91cmxfaHR0cHNcIixcbiAgICAgICAgXCJwcm9maWxlX2JhY2tncm91bmRfdGlsZVwiLCBcInByb2ZpbGVfaW1hZ2VfdXJsXCIsIFwicHJvZmlsZV9pbWFnZV91cmxfaHR0cHNcIixcbiAgICAgICAgXCJwcm9maWxlX2Jhbm5lcl91cmxcIiwgXCJwcm9maWxlX2xpbmtfY29sb3JcIiwgXCJwcm9maWxlX3NpZGViYXJfYm9yZGVyX2NvbG9yXCIsXG4gICAgICAgIFwicHJvZmlsZV9zaWRlYmFyX2ZpbGxfY29sb3JcIiwgXCJwcm9maWxlX3RleHRfY29sb3JcIixcbiAgICAgICAgXCJwcm9maWxlX3VzZV9iYWNrZ3JvdW5kX2ltYWdlXCIsIFwiZGVmYXVsdF9wcm9maWxlXCIsIFwiZGVmYXVsdF9wcm9maWxlX2ltYWdlXCIsXG4gICAgICAgIFwiZm9sbG93aW5nXCIsIFwiZm9sbG93X3JlcXVlc3Rfc2VudFwiLCBcIm5vdGlmaWNhdGlvbnNcIl07XG5cbiAgICAgIC8vIHJlZ2lzdGVyIGF0dHJpYnV0ZXNcbiAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgICAgdGhpc1thdHRyaWJ1dGVdID0gdXNlclthdHRyaWJ1dGVdIHx8IG51bGw7XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICB0aGlzLmlkID0gdXNlci5pZF9zdHI7XG4gICAgfVxuICB9O1xuXG4gIFZpb2xldC5Vc2VyID0gVXNlcjtcbn0pKFZpb2xldCk7XG4iLCIvL1xuLy8gVmlvbGV0LlN0cmVhbWluZ1xuLy9cblxuKGZ1bmN0aW9uKFZpb2xldCkge1xuICB2YXIgVXRpbCA9IFZpb2xldC5VdGlsO1xuXG4gIHZhciBTdHJlYW1pbmcgPSBmdW5jdGlvbihhY2NvdW50cykge1xuICAgIHRoaXMuYWNjb3VudHMgPSBhY2NvdW50cztcbiAgICB0aGlzLm1lc3NhZ2VQYXJzZXIgPSBuZXcgVmlvbGV0LlN0cmVhbWluZy5NZXNzYWdlUGFyc2VyKGFjY291bnRzKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICB0aGlzLl9jb25uZWN0aW9ucyA9IHtcbiAgICAgICd1c2VyU3RyZWFtJzoge30sXG4gICAgICAnZmlsdGVyU3RyZWFtJzoge31cbiAgICB9O1xuICB9O1xuXG4gIFN0cmVhbWluZy5wcm90b3R5cGUgPSB7XG4gICAgYXBpQmFzZVVSSTogJ2h0dHBzOi8vc3RyZWFtLnR3aXR0ZXIuY29tLzEuMS8nLFxuICAgIGVuZHBvaW50czoge1xuICAgICAgdXNlclN0cmVhbToge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiAnaHR0cHM6Ly91c2Vyc3RyZWFtLnR3aXR0ZXIuY29tLzEuMS91c2VyLmpzb24nXG4gICAgICB9LFxuICAgICAgZmlsdGVyU3RyZWFtOiB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBwYXRoOiAnc3RhdHVzZXMvZmlsdGVyLmpzb24nXG4gICAgICB9LFxuICAgIH0sXG4gICAgb246IGZ1bmN0aW9uKGtleSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2V2ZW50c1trZXldID0gY2FsbGJhY2s7XG4gICAgfSxcbiAgICBzdGFydFVzZXJTdHJlYW06IGZ1bmN0aW9uKGFjY291bnRJZCkge1xuICAgICAgdmFyIG1ldGhvZCA9IHRoaXMuZW5kcG9pbnRzLnVzZXJTdHJlYW0ubWV0aG9kO1xuICAgICAgdmFyIHVyaSA9IHRoaXMuZW5kcG9pbnRzLnVzZXJTdHJlYW0ucGF0aDtcbiAgICAgIHZhciBzdHJlYW1UeXBlID0gJ3VzZXInO1xuXG4gICAgICBpZiAoIXRoaXMuX2Nvbm5lY3Rpb25zLnVzZXJTdHJlYW1bYWNjb3VudElkXSkge1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9ucy51c2VyU3RyZWFtW2FjY291bnRJZF0gPSB0aGlzLl9zdGFydFN0cmVhbWluZyhhY2NvdW50SWQsIG1ldGhvZCwgdXJpLCBzdHJlYW1UeXBlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0b3BVc2VyU3RyZWFtOiBmdW5jdGlvbihhY2NvdW50SWQpIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zLnVzZXJTdHJlYW1bYWNjb3VudElkXS5zdG9wKCk7XG4gICAgICBkZWxldGUgdGhpcy5fY29ubmVjdGlvbnMudXNlclN0cmVhbVthY2NvdW50SWRdO1xuICAgIH0sXG4gICAgc3RhcnRGaWx0ZXJTdHJlYW06IGZ1bmN0aW9uKGFjY291bnRJZCkge1xuICAgICAgdmFyIG1ldGhvZCA9IHRoaXMuZW5kcG9pbnRzLmZpbHRlclN0cmVhbS5tZXRob2Q7XG4gICAgICB2YXIgdXJpID0gdGhpcy5hcGlCYXNlVVJJICsgdGhpcy5lbmRwb2ludHMuZmlsdGVyU3RyZWFtLnBhdGg7XG4gICAgICB2YXIgc3RyZWFtVHlwZSA9ICdmaWx0ZXInO1xuXG4gICAgICBpZiAoIXRoaXMuX2Nvbm5lY3Rpb25zLmZpbHRlclN0cmVhbVthY2NvdW50SWRdKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zLmZpbHRlclN0cmVhbVthY2NvdW50SWRdID0gdGhpcy5fc3RhcnRTdHJlYW1pbmcoYWNjb3VudElkLCBtZXRob2QsIHVyaSwgc3RyZWFtVHlwZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzdG9wRmlsdGVyU3RyZWFtOiBmdW5jdGlvbihhY2NvdW50SWQpIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zLmZpbHRlclN0cmVhbVthY2NvdW50SWRdLnN0b3AoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9jb25uZWN0aW9ucy5maWx0ZXJTdHJlYW1bYWNjb3VudElkXTtcbiAgICB9LFxuICAgIF9zdGFydFN0cmVhbWluZzogZnVuY3Rpb24oYWNjb3VudElkLCBtZXRob2QsIHVyaSwgc3RyZWFtVHlwZSkge1xuICAgICAgYWNjb3VudElkID0gYWNjb3VudElkIHx8IHRoaXMuYWNjb3VudHMuZ2V0UHJpbWFyeSgpLmFjY291bnRJZDtcbiAgICAgIHZhciBvYXV0aCA9IHRoaXMuYWNjb3VudHMuZ2V0T0F1dGhNYW5hZ2VyKGFjY291bnRJZCk7XG4gICAgICB2YXIgY29ubiA9IG5ldyBWaW9sZXQuSFRUUENsaWVudCh7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICB1cmk6IHVyaVxuICAgICAgfSk7XG5cbiAgICAgIGNvbm4uc2V0T0F1dGhIZWFkZXIob2F1dGgub2J0YWluT0F1dGhQYXJhbXMoY29ubikpO1xuICAgICAgY29ubi5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGZ1bmN0aW9uKHhocikge1xuICAgICAgICAvLyBpZ25vcmUgbm9uIEpTT04gbWFzc2FnZXNcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0geGhyLnJlc3BvbnNlVGV4dC5zcGxpdCgnXFxyXFxuJyk7XG4gICAgICAgIGlmKCFtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGgtMl0peyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5fcGFyc2VTdHJlYW0oYWNjb3VudElkLCBzdHJlYW1UeXBlLCBKU09OLnBhcnNlKG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aC0yXSkpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgY29ubi5zdGFydCgpO1xuICAgICAgcmV0dXJuIGNvbm47XG4gICAgfSxcbiAgICBfcGFyc2VTdHJlYW06IGZ1bmN0aW9uKGFjY291bnRJZCwgc3RyZWFtVHlwZSwgcmVzcG9uc2UpIHtcbiAgICAgIHZhciBwYXJzZWRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUGFyc2VyLnBhcnNlKGFjY291bnRJZCwgcmVzcG9uc2UpO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9ldmVudHNbcGFyc2VkTWVzc2FnZS50eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9ldmVudHNbcGFyc2VkTWVzc2FnZS50eXBlXS5jYWxsKG51bGwsIGFjY291bnRJZCwgc3RyZWFtVHlwZSwgcGFyc2VkTWVzc2FnZS5kYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFZpb2xldC5TdHJlYW1pbmcgPSBTdHJlYW1pbmc7XG59KShWaW9sZXQpO1xuIiwiLy9cbi8vIFZpb2xldC5TdHJlYW1pbmcuTWVzc2FnZVBhcnNlclxuLy9cblxuKGZ1bmN0aW9uKFZpb2xldCkge1xuICB2YXIgTWVzc2FnZVBhcnNlciA9IGZ1bmN0aW9uKGFjY291bnRzKXtcbiAgICB0aGlzLmFjY291bnRzID0gYWNjb3VudHM7XG4gIH07XG5cbiAgTWVzc2FnZVBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uKGFjY291bnRJZCwgZGF0YSkge1xuICAgICAgaWYgKGRhdGEuaWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAndHdlZXQnLFxuICAgICAgICAgIGRhdGE6IG5ldyBWaW9sZXQuVHdlZXQoZGF0YSwgdGhpcy5hY2NvdW50cywgYWNjb3VudElkKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmKGRhdGEuZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnZXZlbnQnLFxuICAgICAgICAgIGRhdGE6IFZpb2xldC5TdHJlYW1pbmcuRXZlbnQoZGF0YSwgdGhpcy5hY2NvdW50cywgYWNjb3VudElkKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChkYXRhLmRlbGV0ZSAmJiBkYXRhLmRlbGV0ZS5zdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnZGVsZXRlJyxcbiAgICAgICAgICBkYXRhOiBkYXRhLmRlbGV0ZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVmlvbGV0LlN0cmVhbWluZy5NZXNzYWdlUGFyc2VyID0gTWVzc2FnZVBhcnNlcjtcbn0pKFZpb2xldCk7XG4iLCIvL1xuLy8gVmlvbGV0LlJFU1RSZXF1ZXN0XG4vL1xuXG4oZnVuY3Rpb24oVmlvbGV0KSB7XG4gIHZhciBVdGlsID0gVmlvbGV0LlV0aWw7XG4gIHZhciBIVFRQQ2xpZW50ID0gVmlvbGV0LkhUVFBDbGllbnQ7XG4gIHZhciByZXN0QmFzZVVSSSA9ICdodHRwczovL2FwaS50d2l0dGVyLmNvbS8xLjEvJztcbiAgdmFyIHVwbG9hZEJhc2VVUkkgPSAnaHR0cHM6Ly91cGxvYWQudHdpdHRlci5jb20vMS4xLyc7XG5cbiAgdmFyIFJFU1RSZXF1ZXN0ID0gZnVuY3Rpb24obWV0aG9kLCBlbmRwb2ludCwgcmVzcG9uc2VQcm9jLCBtdWx0aXBhcnQsIGFjY291bnRzKSB7XG4gICAgdmFyIGFwaUJhc2VVUkkgPSAobXVsdGlwYXJ0KT8gdXBsb2FkQmFzZVVSSSA6IHJlc3RCYXNlVVJJO1xuICAgIHZhciByZXFUaGlzID0ge2NhbGxiYWNrOiBmdW5jdGlvbigpe30sIGVycm9yYmFjazogZnVuY3Rpb24oKXt9fTtcbiAgICB2YXIgcmVxRnVuY3Rpb24gPSAgZnVuY3Rpb24oZGF0YSwgYWNjb3VudElkKSB7XG4gICAgICBhY2NvdW50SWQgPSBhY2NvdW50SWQgfHwgYWNjb3VudHMuZ2V0UHJpbWFyeSgpLmFjY291bnRJZDtcbiAgICAgIHZhciBwYXRoID0gVXRpbC5yZXNvbHZlRW5kcG9pbnQoZW5kcG9pbnQsIGRhdGEpO1xuICAgICAgdmFyIHVyaSA9IGFwaUJhc2VVUkkgKyBwYXRoICsgJy5qc29uJztcblxuICAgICAgdmFyIG9hdXRoID0gYWNjb3VudHMuZ2V0T0F1dGhNYW5hZ2VyKGFjY291bnRJZCk7XG4gICAgICB2YXIgY29ubiA9IG5ldyBIVFRQQ2xpZW50KHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHVyaTogdXJpLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBtdWx0aXBhcnQ6IG11bHRpcGFydFxuICAgICAgfSk7XG5cbiAgICAgIGNvbm4uc2V0T0F1dGhIZWFkZXIob2F1dGgub2J0YWluT0F1dGhQYXJhbXMoY29ubiwgbXVsdGlwYXJ0KSk7XG4gICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gW0pTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCldO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlUHJvYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2VQcm9jLmFwcGx5KG51bGwsIHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrLmFwcGx5KG51bGwsIHJlc3BvbnNlKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIHRoaXMuZXJyb3JiYWNrLmFwcGx5KG51bGwsIFthY2NvdW50SWQsIEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCldKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgIGNvbm4uc3RhcnQoKTtcbiAgICB9LmJpbmQocmVxVGhpcyk7XG5cbiAgICByZXFGdW5jdGlvbi5vbiA9IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgaWYgKGV2ZW50ID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgICB0aGlzLmVycm9yYmFjayA9IGNhbGxiYWNrO1xuICAgICAgfVxuICAgIH0uYmluZChyZXFUaGlzKTtcblxuICAgIHJldHVybiByZXFGdW5jdGlvbjtcbiAgfTtcblxuICBWaW9sZXQuUkVTVFJlcXVlc3QgPSBSRVNUUmVxdWVzdDtcbn0pKFZpb2xldCk7XG4iLCIvL1xuLy8gVmlvbGV0LlJFU1Rcbi8vXG5cbihmdW5jdGlvbihWaW9sZXQpIHtcbiAgdmFyIFV0aWwgPSBWaW9sZXQuVXRpbDtcbiAgdmFyIFJlcXVlc3QgPSBWaW9sZXQuUkVTVFJlcXVlc3Q7XG4gIHZhciBSRVNUID0gZnVuY3Rpb24oYWNjb3VudHMpIHtcbiAgICB0aGlzLl9hY2NvdW50cyA9IGFjY291bnRzO1xuXG4gICAgLy8gcmVnaXN0ZXIgbWV0aG9kc1xuICAgIHRoaXMuX3JlZ2lzdGVyTWV0aG9kcygnc3RhdHVzZXMnLCBWaW9sZXQuUkVTVC5TdGF0dXNlcyk7XG4gICAgdGhpcy5fcmVnaXN0ZXJNZXRob2RzKCdmYXZvcml0ZXMnLCBWaW9sZXQuUkVTVC5GYXZvcml0ZXMpO1xuICAgIHRoaXMuX3JlZ2lzdGVyTWV0aG9kcygnbWVkaWEnLCBWaW9sZXQuUkVTVC5NZWRpYSk7XG4gIH07XG5cbiAgUkVTVC5wcm90b3R5cGUgPSB7XG4gICAgX3JlZ2lzdGVyTWV0aG9kczogZnVuY3Rpb24oY2F0ZWdvcnksIGVuZHBvaW50cykge1xuICAgICAgdmFyIG1ldGhvZHMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgbGFiZWwgaW4gZW5kcG9pbnRzKSB7XG4gICAgICAgIGlmIChlbmRwb2ludHMuaGFzT3duUHJvcGVydHkobGFiZWwpKSB7XG4gICAgICAgICAgdmFyIGVuZHBvaW50ID0gZW5kcG9pbnRzW2xhYmVsXTtcbiAgICAgICAgICBtZXRob2RzW2xhYmVsXSA9IFJlcXVlc3QoXG4gICAgICAgICAgICBlbmRwb2ludC5tZXRob2QsXG4gICAgICAgICAgICBlbmRwb2ludC5wYXRoLFxuICAgICAgICAgICAgZW5kcG9pbnQucmVzcG9uc2VQcm9jLFxuICAgICAgICAgICAgZW5kcG9pbnQubXVsdGlwYXJ0IHx8IGZhbHNlLFxuICAgICAgICAgICAgdGhpcy5fYWNjb3VudHNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXNbY2F0ZWdvcnldID0gbWV0aG9kcztcbiAgICB9XG4gIH07XG5cbiAgVmlvbGV0LlJFU1QgPSBSRVNUO1xufSkoVmlvbGV0KTtcbiIsIi8vXG4vLyBWaW9sZXQuUkVTVC5TdGF0dXNlc1xuLy9cblxuKGZ1bmN0aW9uKFZpb2xldCkge1xuICB2YXIgVHdlZXQgPSBWaW9sZXQuVHdlZXQ7XG4gIHZhciBTdGF0dXNlcyA9IHtcbiAgICAnbWVudGlvbnNUaW1lbGluZSc6IHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiAnc3RhdHVzZXMvbWVudGlvbnNfdGltZWxpbmUnLFxuICAgICAgcmVzcG9uc2VQcm9jOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gW3Jlc3BvbnNlLm1hcChmdW5jdGlvbih0d2VldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgVHdlZXQodHdlZXQpO1xuICAgICAgICB9KV07XG4gICAgICB9XG4gICAgfSxcbiAgICAndXNlclRpbWVsaW5lJzoge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhdGg6ICdzdGF0dXNlcy91c2VyX3RpbWVsaW5lJyxcbiAgICAgIHJlc3BvbnNlUHJvYzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIFtyZXNwb25zZS5tYXAoZnVuY3Rpb24odHdlZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFR3ZWV0KHR3ZWV0KTtcbiAgICAgICAgfSldO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ2hvbWVUaW1lbGluZSc6IHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiAnc3RhdHVzZXMvaG9tZV90aW1lbGluZScsXG4gICAgICByZXNwb25zZVByb2M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBbcmVzcG9uc2UubWFwKGZ1bmN0aW9uKHR3ZWV0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBUd2VldCh0d2VldCk7XG4gICAgICAgIH0pXTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdyZXR3ZWV0c09mTWUnOiB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGF0aDogJ3N0YXR1c2VzL3JldHdlZXRzX29mX21lJyxcbiAgICAgIHJlc3BvbnNlUHJvYzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIFtyZXNwb25zZS5tYXAoZnVuY3Rpb24odHdlZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFR3ZWV0KHR3ZWV0KTtcbiAgICAgICAgfSldO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ3JldHdlZXRzJzoge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhdGg6ICdzdGF0dXNlcy9yZXR3ZWV0cy86aWQnLFxuICAgICAgcmVzcG9uc2VQcm9jOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gW3Jlc3BvbnNlLm1hcChmdW5jdGlvbih0d2VldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgVHdlZXQodHdlZXQpO1xuICAgICAgICB9KV07XG4gICAgICB9XG4gICAgfSxcbiAgICAnc2hvdyc6IHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiAnc3RhdHVzZXMvc2hvdy86aWQnLFxuICAgICAgcmVzcG9uc2VQcm9jOiBmdW5jdGlvbih0d2VldCkge1xuICAgICAgICByZXR1cm4gW25ldyBUd2VldCh0d2VldCldO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ2Rlc3Ryb3knOiB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHBhdGg6ICdzdGF0dXNlcy9kZXN0cm95LzppZCcsXG4gICAgICByZXNwb25zZVByb2M6IGZ1bmN0aW9uKHR3ZWV0KSB7XG4gICAgICAgIHJldHVybiBbbmV3IFR3ZWV0KHR3ZWV0KV07XG4gICAgICB9XG4gICAgfSxcbiAgICAndXBkYXRlJzoge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXRoOiAnc3RhdHVzZXMvdXBkYXRlJyxcbiAgICAgIHJlc3BvbnNlUHJvYzogZnVuY3Rpb24odHdlZXQpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgVHdlZXQodHdlZXQpXTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdyZXR3ZWV0Jzoge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXRoOiAnc3RhdHVzZXMvcmV0d2VldC86aWQnLFxuICAgICAgcmVzcG9uc2VQcm9jOiBmdW5jdGlvbih0d2VldCkge1xuICAgICAgICByZXR1cm4gW25ldyBUd2VldCh0d2VldCldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBWaW9sZXQuUkVTVC5TdGF0dXNlcyA9IFN0YXR1c2VzO1xufSkoVmlvbGV0KTtcbiIsIi8vXG4vLyBWaW9sZXQuUkVTVC5GYXZvcml0ZXNcbi8vXG5cbihmdW5jdGlvbihWaW9sZXQpIHtcbiAgdmFyIFR3ZWV0ID0gVmlvbGV0LlR3ZWV0O1xuICB2YXIgRmF2b3JpdGVzID0ge1xuICAgICdsaXN0Jzoge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhdGg6ICdmYXZvcml0ZXMvbGlzdCcsXG4gICAgICByZXNwb25zZVByb2M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBbcmVzcG9uc2UubWFwKGZ1bmN0aW9uKHR3ZWV0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBUd2VldCh0d2VldCk7XG4gICAgICAgIH0pXTtcbiAgICAgIH1cbiAgICB9LFxuICAgICdkZXN0cm95Jzoge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXRoOiAnZmF2b3JpdGVzL2Rlc3Ryb3knLFxuICAgICAgcmVzcG9uc2VQcm9jOiBmdW5jdGlvbih0d2VldCkge1xuICAgICAgICByZXR1cm4gW25ldyBUd2VldCh0d2VldCldO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ2NyZWF0ZSc6IHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGF0aDogJ2Zhdm9yaXRlcy9jcmVhdGUnLFxuICAgICAgcmVzcG9uc2VQcm9jOiBmdW5jdGlvbih0d2VldCkge1xuICAgICAgICByZXR1cm4gW25ldyBUd2VldCh0d2VldCldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgVmlvbGV0LlJFU1QuRmF2b3JpdGVzID0gRmF2b3JpdGVzO1xufSkoVmlvbGV0KTtcbiIsIi8vXG4vLyBWaW9sZXQuUkVTVC5NZWRpYVxuLy9cblxuKGZ1bmN0aW9uKFZpb2xldCkge1xuICB2YXIgTWVkaWEgPSB7XG4gICAgJ3VwbG9hZCc6IHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGF0aDogJ21lZGlhL3VwbG9hZCcsXG4gICAgICByZXNwb25zZVByb2M6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIFttZXNzYWdlXTtcbiAgICAgIH0sXG4gICAgICBtdWx0aXBhcnQ6IHRydWVcbiAgICB9XG4gIH07XG4gIFZpb2xldC5SRVNULk1lZGlhID0gTWVkaWE7XG59KShWaW9sZXQpO1xuIiwiLyoqXHJcbiAqIENyeXB0b0pTIGNvcmUgY29tcG9uZW50cy5cclxuICovXHJcbnZhciBDcnlwdG9KUyA9IENyeXB0b0pTIHx8IChmdW5jdGlvbiAoTWF0aCwgdW5kZWZpbmVkKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyeXB0b0pTIG5hbWVzcGFjZS5cclxuICAgICAqL1xyXG4gICAgdmFyIEMgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExpYnJhcnkgbmFtZXNwYWNlLlxyXG4gICAgICovXHJcbiAgICB2YXIgQ19saWIgPSBDLmxpYiA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmFzZSBvYmplY3QgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIHZhciBCYXNlID0gQ19saWIuQmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRigpIHt9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhpcyBvYmplY3QuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdmVycmlkZXMgUHJvcGVydGllcyB0byBjb3B5IGludG8gdGhlIG5ldyBvYmplY3QuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBvYmplY3QuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBzdGF0aWNcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogICAgIHZhciBNeVR5cGUgPSBDcnlwdG9KUy5saWIuQmFzZS5leHRlbmQoe1xyXG4gICAgICAgICAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnLFxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiAgICAgICAgIG1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgKiAgICAgICAgIH1cclxuICAgICAgICAgICAgICogICAgIH0pO1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbiAob3ZlcnJpZGVzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTcGF3blxyXG4gICAgICAgICAgICAgICAgRi5wcm90b3R5cGUgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnR5cGUgPSBuZXcgRigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEF1Z21lbnRcclxuICAgICAgICAgICAgICAgIGlmIChvdmVycmlkZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlLm1peEluKG92ZXJyaWRlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRlZmF1bHQgaW5pdGlhbGl6ZXJcclxuICAgICAgICAgICAgICAgIGlmICghc3VidHlwZS5oYXNPd25Qcm9wZXJ0eSgnaW5pdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VidHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplcidzIHByb3RvdHlwZSBpcyB0aGUgc3VidHlwZSBvYmplY3RcclxuICAgICAgICAgICAgICAgIHN1YnR5cGUuaW5pdC5wcm90b3R5cGUgPSBzdWJ0eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlZmVyZW5jZSBzdXBlcnR5cGVcclxuICAgICAgICAgICAgICAgIHN1YnR5cGUuJHN1cGVyID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VidHlwZTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBFeHRlbmRzIHRoaXMgb2JqZWN0IGFuZCBydW5zIHRoZSBpbml0IG1ldGhvZC5cclxuICAgICAgICAgICAgICogQXJndW1lbnRzIHRvIGNyZWF0ZSgpIHdpbGwgYmUgcGFzc2VkIHRvIGluaXQoKS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgbmV3IG9iamVjdC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHN0YXRpY1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiAgICAgdmFyIGluc3RhbmNlID0gTXlUeXBlLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmV4dGVuZCgpO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaW5pdC5hcHBseShpbnN0YW5jZSwgYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIG9iamVjdC5cclxuICAgICAgICAgICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gYWRkIHNvbWUgbG9naWMgd2hlbiB5b3VyIG9iamVjdHMgYXJlIGNyZWF0ZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqICAgICB2YXIgTXlUeXBlID0gQ3J5cHRvSlMubGliLkJhc2UuZXh0ZW5kKHtcclxuICAgICAgICAgICAgICogICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAqICAgICAgICAgICAgIC8vIC4uLlxyXG4gICAgICAgICAgICAgKiAgICAgICAgIH1cclxuICAgICAgICAgICAgICogICAgIH0pO1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGludG8gdGhpcyBvYmplY3QuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIFRoZSBwcm9wZXJ0aWVzIHRvIG1peCBpbi5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogICAgIE15VHlwZS5taXhJbih7XHJcbiAgICAgICAgICAgICAqICAgICAgICAgZmllbGQ6ICd2YWx1ZSdcclxuICAgICAgICAgICAgICogICAgIH0pO1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgbWl4SW46IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0gcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJRSB3b24ndCBjb3B5IHRvU3RyaW5nIHVzaW5nIHRoZSBsb29wIGFib3ZlXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSgndG9TdHJpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9TdHJpbmcgPSBwcm9wZXJ0aWVzLnRvU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjbG9uZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogICAgIHZhciBjbG9uZSA9IGluc3RhbmNlLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBhcnJheSBvZiAzMi1iaXQgd29yZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gd29yZHMgVGhlIGFycmF5IG9mIDMyLWJpdCB3b3Jkcy5cclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaWdCeXRlcyBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoaXMgd29yZCBhcnJheS5cclxuICAgICAqL1xyXG4gICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheSA9IEJhc2UuZXh0ZW5kKHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgd29yZCBhcnJheS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHdvcmRzIChPcHRpb25hbCkgQW4gYXJyYXkgb2YgMzItYml0IHdvcmRzLlxyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaWdCeXRlcyAoT3B0aW9uYWwpIFRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgYnl0ZXMgaW4gdGhlIHdvcmRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoKTtcclxuICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKFsweDAwMDEwMjAzLCAweDA0MDUwNjA3XSk7XHJcbiAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZShbMHgwMDAxMDIwMywgMHgwNDA1MDYwN10sIDYpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICh3b3Jkcywgc2lnQnl0ZXMpIHtcclxuICAgICAgICAgICAgd29yZHMgPSB0aGlzLndvcmRzID0gd29yZHMgfHwgW107XHJcblxyXG4gICAgICAgICAgICBpZiAoc2lnQnl0ZXMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gc2lnQnl0ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ0J5dGVzID0gd29yZHMubGVuZ3RoICogNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnZlcnRzIHRoaXMgd29yZCBhcnJheSB0byBhIHN0cmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlciAoT3B0aW9uYWwpIFRoZSBlbmNvZGluZyBzdHJhdGVneSB0byB1c2UuIERlZmF1bHQ6IENyeXB0b0pTLmVuYy5IZXhcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZ2lmaWVkIHdvcmQgYXJyYXkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgIHZhciBzdHJpbmcgPSB3b3JkQXJyYXkgKyAnJztcclxuICAgICAgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZygpO1xyXG4gICAgICAgICAqICAgICB2YXIgc3RyaW5nID0gd29yZEFycmF5LnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTtcclxuICAgICAgICAgKi9cclxuICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKGVuY29kZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChlbmNvZGVyIHx8IEhleCkuc3RyaW5naWZ5KHRoaXMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbmNhdGVuYXRlcyBhIHdvcmQgYXJyYXkgdG8gdGhpcyB3b3JkIGFycmF5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheSB0byBhcHBlbmQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoaXMgd29yZCBhcnJheS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgd29yZEFycmF5MS5jb25jYXQod29yZEFycmF5Mik7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uY2F0OiBmdW5jdGlvbiAod29yZEFycmF5KSB7XHJcbiAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xyXG4gICAgICAgICAgICB2YXIgdGhpc1dvcmRzID0gdGhpcy53b3JkcztcclxuICAgICAgICAgICAgdmFyIHRoYXRXb3JkcyA9IHdvcmRBcnJheS53b3JkcztcclxuICAgICAgICAgICAgdmFyIHRoaXNTaWdCeXRlcyA9IHRoaXMuc2lnQnl0ZXM7XHJcbiAgICAgICAgICAgIHZhciB0aGF0U2lnQnl0ZXMgPSB3b3JkQXJyYXkuc2lnQnl0ZXM7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGFtcCBleGNlc3MgYml0c1xyXG4gICAgICAgICAgICB0aGlzLmNsYW1wKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDb25jYXRcclxuICAgICAgICAgICAgaWYgKHRoaXNTaWdCeXRlcyAlIDQpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvcHkgb25lIGJ5dGUgYXQgYSB0aW1lXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoYXRTaWdCeXRlczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoYXRCeXRlID0gKHRoYXRXb3Jkc1tpID4+PiAyXSA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAmIDB4ZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1dvcmRzWyh0aGlzU2lnQnl0ZXMgKyBpKSA+Pj4gMl0gfD0gdGhhdEJ5dGUgPDwgKDI0IC0gKCh0aGlzU2lnQnl0ZXMgKyBpKSAlIDQpICogOCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhhdFdvcmRzLmxlbmd0aCA+IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29weSBvbmUgd29yZCBhdCBhIHRpbWVcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhhdFNpZ0J5dGVzOyBpICs9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzV29yZHNbKHRoaXNTaWdCeXRlcyArIGkpID4+PiAyXSA9IHRoYXRXb3Jkc1tpID4+PiAyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIENvcHkgYWxsIHdvcmRzIGF0IG9uY2VcclxuICAgICAgICAgICAgICAgIHRoaXNXb3Jkcy5wdXNoLmFwcGx5KHRoaXNXb3JkcywgdGhhdFdvcmRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNpZ0J5dGVzICs9IHRoYXRTaWdCeXRlcztcclxuXHJcbiAgICAgICAgICAgIC8vIENoYWluYWJsZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZW1vdmVzIGluc2lnbmlmaWNhbnQgYml0cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgd29yZEFycmF5LmNsYW1wKCk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhbXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2hvcnRjdXRzXHJcbiAgICAgICAgICAgIHZhciB3b3JkcyA9IHRoaXMud29yZHM7XHJcbiAgICAgICAgICAgIHZhciBzaWdCeXRlcyA9IHRoaXMuc2lnQnl0ZXM7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGFtcFxyXG4gICAgICAgICAgICB3b3Jkc1tzaWdCeXRlcyA+Pj4gMl0gJj0gMHhmZmZmZmZmZiA8PCAoMzIgLSAoc2lnQnl0ZXMgJSA0KSAqIDgpO1xyXG4gICAgICAgICAgICB3b3Jkcy5sZW5ndGggPSBNYXRoLmNlaWwoc2lnQnl0ZXMgLyA0KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIHdvcmQgYXJyYXkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBjbG9uZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIGNsb25lID0gd29yZEFycmF5LmNsb25lKCk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNsb25lID0gQmFzZS5jbG9uZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICBjbG9uZS53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyBhIHdvcmQgYXJyYXkgZmlsbGVkIHdpdGggcmFuZG9tIGJ5dGVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG5CeXRlcyBUaGUgbnVtYmVyIG9mIHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHJhbmRvbSB3b3JkIGFycmF5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHN0YXRpY1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5yYW5kb20oMTYpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJhbmRvbTogZnVuY3Rpb24gKG5CeXRlcykge1xyXG4gICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHZhciByID0gKGZ1bmN0aW9uIChtX3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtX3cgPSBtX3c7XHJcbiAgICAgICAgICAgICAgICB2YXIgbV96ID0gMHgzYWRlNjhiMTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrID0gMHhmZmZmZmZmZjtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1feiA9ICgweDkwNjkgKiAobV96ICYgMHhGRkZGKSArIChtX3ogPj4gMHgxMCkpICYgbWFzaztcclxuICAgICAgICAgICAgICAgICAgICBtX3cgPSAoMHg0NjUwICogKG1fdyAmIDB4RkZGRikgKyAobV93ID4+IDB4MTApKSAmIG1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICgobV96IDw8IDB4MTApICsgbV93KSAmIG1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0IC89IDB4MTAwMDAwMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAwLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChNYXRoLnJhbmRvbSgpID4gLjUgPyAxIDogLTEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByY2FjaGU7IGkgPCBuQnl0ZXM7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9yID0gcigocmNhY2hlIHx8IE1hdGgucmFuZG9tKCkpICogMHgxMDAwMDAwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJjYWNoZSA9IF9yKCkgKiAweDNhZGU2N2I3O1xyXG4gICAgICAgICAgICAgICAgd29yZHMucHVzaCgoX3IoKSAqIDB4MTAwMDAwMDAwKSB8IDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBuQnl0ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW5jb2RlciBuYW1lc3BhY2UuXHJcbiAgICAgKi9cclxuICAgIHZhciBDX2VuYyA9IEMuZW5jID0ge307XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZXggZW5jb2Rpbmcgc3RyYXRlZ3kuXHJcbiAgICAgKi9cclxuICAgIHZhciBIZXggPSBDX2VuYy5IZXggPSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgaGV4IHN0cmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBoZXggc3RyaW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHN0YXRpY1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgaGV4U3RyaW5nID0gQ3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkod29yZEFycmF5KTtcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcclxuICAgICAgICAgICAgLy8gU2hvcnRjdXRzXHJcbiAgICAgICAgICAgIHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3JkcztcclxuICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29udmVydFxyXG4gICAgICAgICAgICB2YXIgaGV4Q2hhcnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWdCeXRlczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYml0ZSA9ICh3b3Jkc1tpID4+PiAyXSA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAmIDB4ZmY7XHJcbiAgICAgICAgICAgICAgICBoZXhDaGFycy5wdXNoKChiaXRlID4+PiA0KS50b1N0cmluZygxNikpO1xyXG4gICAgICAgICAgICAgICAgaGV4Q2hhcnMucHVzaCgoYml0ZSAmIDB4MGYpLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBoZXhDaGFycy5qb2luKCcnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb252ZXJ0cyBhIGhleCBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGhleFN0ciBUaGUgaGV4IHN0cmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAc3RhdGljXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKGhleFN0cmluZyk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChoZXhTdHIpIHtcclxuICAgICAgICAgICAgLy8gU2hvcnRjdXRcclxuICAgICAgICAgICAgdmFyIGhleFN0ckxlbmd0aCA9IGhleFN0ci5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0XHJcbiAgICAgICAgICAgIHZhciB3b3JkcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhleFN0ckxlbmd0aDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICB3b3Jkc1tpID4+PiAzXSB8PSBwYXJzZUludChoZXhTdHIuc3Vic3RyKGksIDIpLCAxNikgPDwgKDI0IC0gKGkgJSA4KSAqIDQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBoZXhTdHJMZW5ndGggLyAyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGF0aW4xIGVuY29kaW5nIHN0cmF0ZWd5LlxyXG4gICAgICovXHJcbiAgICB2YXIgTGF0aW4xID0gQ19lbmMuTGF0aW4xID0ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnZlcnRzIGEgd29yZCBhcnJheSB0byBhIExhdGluMSBzdHJpbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgTGF0aW4xIHN0cmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzdGF0aWNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIGxhdGluMVN0cmluZyA9IENyeXB0b0pTLmVuYy5MYXRpbjEuc3RyaW5naWZ5KHdvcmRBcnJheSk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RyaW5naWZ5OiBmdW5jdGlvbiAod29yZEFycmF5KSB7XHJcbiAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xyXG4gICAgICAgICAgICB2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XHJcbiAgICAgICAgICAgIHZhciBzaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnRcclxuICAgICAgICAgICAgdmFyIGxhdGluMUNoYXJzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpdGUgPSAod29yZHNbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAweGZmO1xyXG4gICAgICAgICAgICAgICAgbGF0aW4xQ2hhcnMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJpdGUpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGxhdGluMUNoYXJzLmpvaW4oJycpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnZlcnRzIGEgTGF0aW4xIHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF0aW4xU3RyIFRoZSBMYXRpbjEgc3RyaW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzdGF0aWNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5MYXRpbjEucGFyc2UobGF0aW4xU3RyaW5nKTtcclxuICAgICAgICAgKi9cclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGxhdGluMVN0cikge1xyXG4gICAgICAgICAgICAvLyBTaG9ydGN1dFxyXG4gICAgICAgICAgICB2YXIgbGF0aW4xU3RyTGVuZ3RoID0gbGF0aW4xU3RyLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnRcclxuICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF0aW4xU3RyTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHdvcmRzW2kgPj4+IDJdIHw9IChsYXRpbjFTdHIuY2hhckNvZGVBdChpKSAmIDB4ZmYpIDw8ICgyNCAtIChpICUgNCkgKiA4KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcywgbGF0aW4xU3RyTGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVVRGLTggZW5jb2Rpbmcgc3RyYXRlZ3kuXHJcbiAgICAgKi9cclxuICAgIHZhciBVdGY4ID0gQ19lbmMuVXRmOCA9IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBVVEYtOCBzdHJpbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgVVRGLTggc3RyaW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHN0YXRpY1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgdXRmOFN0cmluZyA9IENyeXB0b0pTLmVuYy5VdGY4LnN0cmluZ2lmeSh3b3JkQXJyYXkpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKHdvcmRBcnJheSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpKSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFVURi04IGRhdGEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnZlcnRzIGEgVVRGLTggc3RyaW5nIHRvIGEgd29yZCBhcnJheS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1dGY4U3RyIFRoZSBVVEYtOCBzdHJpbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSB3b3JkIGFycmF5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHN0YXRpY1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UodXRmOFN0cmluZyk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh1dGY4U3RyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYXRpbjEucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHV0ZjhTdHIpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFic3RyYWN0IGJ1ZmZlcmVkIGJsb2NrIGFsZ29yaXRobSB0ZW1wbGF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgcHJvcGVydHkgYmxvY2tTaXplIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gYSBjb25jcmV0ZSBzdWJ0eXBlLlxyXG4gICAgICpcclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBfbWluQnVmZmVyU2l6ZSBUaGUgbnVtYmVyIG9mIGJsb2NrcyB0aGF0IHNob3VsZCBiZSBrZXB0IHVucHJvY2Vzc2VkIGluIHRoZSBidWZmZXIuIERlZmF1bHQ6IDBcclxuICAgICAqL1xyXG4gICAgdmFyIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBDX2xpYi5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtID0gQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlc2V0cyB0aGlzIGJsb2NrIGFsZ29yaXRobSdzIGRhdGEgYnVmZmVyIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLnJlc2V0KCk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gSW5pdGlhbCB2YWx1ZXNcclxuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBXb3JkQXJyYXkuaW5pdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9uRGF0YUJ5dGVzID0gMDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGRzIG5ldyBkYXRhIHRvIHRoaXMgYmxvY2sgYWxnb3JpdGhtJ3MgYnVmZmVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGFwcGVuZC4gU3RyaW5ncyBhcmUgY29udmVydGVkIHRvIGEgV29yZEFycmF5IHVzaW5nIFVURi04LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLl9hcHBlbmQoJ2RhdGEnKTtcclxuICAgICAgICAgKiAgICAgYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fYXBwZW5kKHdvcmRBcnJheSk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2FwcGVuZDogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gV29yZEFycmF5LCBlbHNlIGFzc3VtZSBXb3JkQXJyYXkgYWxyZWFkeVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBVdGY4LnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmRcclxuICAgICAgICAgICAgdGhpcy5fZGF0YS5jb25jYXQoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuX25EYXRhQnl0ZXMgKz0gZGF0YS5zaWdCeXRlcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQcm9jZXNzZXMgYXZhaWxhYmxlIGRhdGEgYmxvY2tzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBfZG9Qcm9jZXNzQmxvY2sob2Zmc2V0KSwgd2hpY2ggbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBhIGNvbmNyZXRlIHN1YnR5cGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvRmx1c2ggV2hldGhlciBhbGwgYmxvY2tzIGFuZCBwYXJ0aWFsIGJsb2NrcyBzaG91bGQgYmUgcHJvY2Vzc2VkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgcHJvY2Vzc2VkIGRhdGEuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgIHZhciBwcm9jZXNzZWREYXRhID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fcHJvY2VzcygpO1xyXG4gICAgICAgICAqICAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uX3Byb2Nlc3MoISEnZmx1c2gnKTtcclxuICAgICAgICAgKi9cclxuICAgICAgICBfcHJvY2VzczogZnVuY3Rpb24gKGRvRmx1c2gpIHtcclxuICAgICAgICAgICAgLy8gU2hvcnRjdXRzXHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcclxuICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XHJcbiAgICAgICAgICAgIHZhciBkYXRhU2lnQnl0ZXMgPSBkYXRhLnNpZ0J5dGVzO1xyXG4gICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XHJcblxyXG4gICAgICAgICAgICAvLyBDb3VudCBibG9ja3MgcmVhZHlcclxuICAgICAgICAgICAgdmFyIG5CbG9ja3NSZWFkeSA9IGRhdGFTaWdCeXRlcyAvIGJsb2NrU2l6ZUJ5dGVzO1xyXG4gICAgICAgICAgICBpZiAoZG9GbHVzaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUm91bmQgdXAgdG8gaW5jbHVkZSBwYXJ0aWFsIGJsb2Nrc1xyXG4gICAgICAgICAgICAgICAgbkJsb2Nrc1JlYWR5ID0gTWF0aC5jZWlsKG5CbG9ja3NSZWFkeSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSb3VuZCBkb3duIHRvIGluY2x1ZGUgb25seSBmdWxsIGJsb2NrcyxcclxuICAgICAgICAgICAgICAgIC8vIGxlc3MgdGhlIG51bWJlciBvZiBibG9ja3MgdGhhdCBtdXN0IHJlbWFpbiBpbiB0aGUgYnVmZmVyXHJcbiAgICAgICAgICAgICAgICBuQmxvY2tzUmVhZHkgPSBNYXRoLm1heCgobkJsb2Nrc1JlYWR5IHwgMCkgLSB0aGlzLl9taW5CdWZmZXJTaXplLCAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ291bnQgd29yZHMgcmVhZHlcclxuICAgICAgICAgICAgdmFyIG5Xb3Jkc1JlYWR5ID0gbkJsb2Nrc1JlYWR5ICogYmxvY2tTaXplO1xyXG5cclxuICAgICAgICAgICAgLy8gQ291bnQgYnl0ZXMgcmVhZHlcclxuICAgICAgICAgICAgdmFyIG5CeXRlc1JlYWR5ID0gTWF0aC5taW4obldvcmRzUmVhZHkgKiA0LCBkYXRhU2lnQnl0ZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gUHJvY2VzcyBibG9ja3NcclxuICAgICAgICAgICAgaWYgKG5Xb3Jkc1JlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBuV29yZHNSZWFkeTsgb2Zmc2V0ICs9IGJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcmZvcm0gY29uY3JldGUtYWxnb3JpdGhtIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9Qcm9jZXNzQmxvY2soZGF0YVdvcmRzLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBwcm9jZXNzZWQgd29yZHNcclxuICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzZWRXb3JkcyA9IGRhdGFXb3Jkcy5zcGxpY2UoMCwgbldvcmRzUmVhZHkpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zaWdCeXRlcyAtPSBuQnl0ZXNSZWFkeTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmV0dXJuIHByb2Nlc3NlZCB3b3Jkc1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHByb2Nlc3NlZFdvcmRzLCBuQnl0ZXNSZWFkeSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjbG9uZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIGNsb25lID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5jbG9uZSgpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZSA9IEJhc2UuY2xvbmUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgY2xvbmUuX2RhdGEgPSB0aGlzLl9kYXRhLmNsb25lKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX21pbkJ1ZmZlclNpemU6IDBcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWJzdHJhY3QgaGFzaGVyIHRlbXBsYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBibG9ja1NpemUgVGhlIG51bWJlciBvZiAzMi1iaXQgd29yZHMgdGhpcyBoYXNoZXIgb3BlcmF0ZXMgb24uIERlZmF1bHQ6IDE2ICg1MTIgYml0cylcclxuICAgICAqL1xyXG4gICAgdmFyIEhhc2hlciA9IENfbGliLkhhc2hlciA9IEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uZXh0ZW5kKHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2ZnOiBCYXNlLmV4dGVuZCgpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgaGFzaGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNmZyAoT3B0aW9uYWwpIFRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gdXNlIGZvciB0aGlzIGhhc2ggY29tcHV0YXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgIHZhciBoYXNoZXIgPSBDcnlwdG9KUy5hbGdvLlNIQTI1Ni5jcmVhdGUoKTtcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoY2ZnKSB7XHJcbiAgICAgICAgICAgIC8vIEFwcGx5IGNvbmZpZyBkZWZhdWx0c1xyXG4gICAgICAgICAgICB0aGlzLmNmZyA9IHRoaXMuY2ZnLmV4dGVuZChjZmcpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVzXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXNldHMgdGhpcyBoYXNoZXIgdG8gaXRzIGluaXRpYWwgc3RhdGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgIGhhc2hlci5yZXNldCgpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGRhdGEgYnVmZmVyXHJcbiAgICAgICAgICAgIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0ucmVzZXQuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBlcmZvcm0gY29uY3JldGUtaGFzaGVyIGxvZ2ljXHJcbiAgICAgICAgICAgIHRoaXMuX2RvUmVzZXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGVzIHRoaXMgaGFzaGVyIHdpdGggYSBtZXNzYWdlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlVXBkYXRlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0hhc2hlcn0gVGhpcyBoYXNoZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgIGhhc2hlci51cGRhdGUoJ21lc3NhZ2UnKTtcclxuICAgICAgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSh3b3JkQXJyYXkpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gQXBwZW5kXHJcbiAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgaGFzaFxyXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGFpbmFibGVcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmluYWxpemVzIHRoZSBoYXNoIGNvbXB1dGF0aW9uLlxyXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgKE9wdGlvbmFsKSBBIGZpbmFsIG1lc3NhZ2UgdXBkYXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoKTtcclxuICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUoJ21lc3NhZ2UnKTtcclxuICAgICAgICAgKiAgICAgdmFyIGhhc2ggPSBoYXNoZXIuZmluYWxpemUod29yZEFycmF5KTtcclxuICAgICAgICAgKi9cclxuICAgICAgICBmaW5hbGl6ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gRmluYWwgbWVzc2FnZSB1cGRhdGVcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZChtZXNzYWdlVXBkYXRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUGVyZm9ybSBjb25jcmV0ZS1oYXNoZXIgbG9naWNcclxuICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLl9kb0ZpbmFsaXplKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaGFzaDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBibG9ja1NpemU6IDUxMi8zMixcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyBhIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIGEgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2hlciB0byBjcmVhdGUgYSBoZWxwZXIgZm9yLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBzaG9ydGN1dCBmdW5jdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBzdGF0aWNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIFNIQTI1NiA9IENyeXB0b0pTLmxpYi5IYXNoZXIuX2NyZWF0ZUhlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24gKGhhc2hlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIGNmZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBoYXNoZXIuaW5pdChjZmcpLmZpbmFsaXplKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENyZWF0ZXMgYSBzaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0hhc2hlcn0gaGFzaGVyIFRoZSBoYXNoZXIgdG8gdXNlIGluIHRoaXMgSE1BQyBoZWxwZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIHNob3J0Y3V0IGZ1bmN0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHN0YXRpY1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgSG1hY1NIQTI1NiA9IENyeXB0b0pTLmxpYi5IYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoQ3J5cHRvSlMuYWxnby5TSEEyNTYpO1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9jcmVhdGVIbWFjSGVscGVyOiBmdW5jdGlvbiAoaGFzaGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSwga2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENfYWxnby5ITUFDLmluaXQoaGFzaGVyLCBrZXkpLmZpbmFsaXplKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxnb3JpdGhtIG5hbWVzcGFjZS5cclxuICAgICAqL1xyXG4gICAgdmFyIENfYWxnbyA9IEMuYWxnbyA9IHt9O1xyXG5cclxuICAgIHJldHVybiBDO1xyXG59KE1hdGgpKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIFNob3J0Y3V0c1xyXG4gICAgdmFyIEMgPSBDcnlwdG9KUztcclxuICAgIHZhciBDX2xpYiA9IEMubGliO1xyXG4gICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcclxuICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XHJcbiAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xyXG5cclxuICAgIC8vIFJldXNhYmxlIG9iamVjdFxyXG4gICAgdmFyIFcgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNIQS0xIGhhc2ggYWxnb3JpdGhtLlxyXG4gICAgICovXHJcbiAgICB2YXIgU0hBMSA9IENfYWxnby5TSEExID0gSGFzaGVyLmV4dGVuZCh7XHJcbiAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFzaCA9IG5ldyBXb3JkQXJyYXkuaW5pdChbXHJcbiAgICAgICAgICAgICAgICAweDY3NDUyMzAxLCAweGVmY2RhYjg5LFxyXG4gICAgICAgICAgICAgICAgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NixcclxuICAgICAgICAgICAgICAgIDB4YzNkMmUxZjBcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX2RvUHJvY2Vzc0Jsb2NrOiBmdW5jdGlvbiAoTSwgb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIC8vIFNob3J0Y3V0XHJcbiAgICAgICAgICAgIHZhciBIID0gdGhpcy5faGFzaC53b3JkcztcclxuXHJcbiAgICAgICAgICAgIC8vIFdvcmtpbmcgdmFyaWFibGVzXHJcbiAgICAgICAgICAgIHZhciBhID0gSFswXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBIWzFdO1xyXG4gICAgICAgICAgICB2YXIgYyA9IEhbMl07XHJcbiAgICAgICAgICAgIHZhciBkID0gSFszXTtcclxuICAgICAgICAgICAgdmFyIGUgPSBIWzRdO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29tcHV0YXRpb25cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDE2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgV1tpXSA9IE1bb2Zmc2V0ICsgaV0gfCAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFdbaSAtIDNdIF4gV1tpIC0gOF0gXiBXW2kgLSAxNF0gXiBXW2kgLSAxNl07XHJcbiAgICAgICAgICAgICAgICAgICAgV1tpXSA9IChuIDw8IDEpIHwgKG4gPj4+IDMxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdCA9ICgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZSArIFdbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdCArPSAoKGIgJiBjKSB8ICh+YiAmIGQpKSArIDB4NWE4Mjc5OTk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQgKz0gKGIgXiBjIF4gZCkgKyAweDZlZDllYmExO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpIDwgNjApIHtcclxuICAgICAgICAgICAgICAgICAgICB0ICs9ICgoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCkpIC0gMHg3MGU0NDMyNDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAoaSA8IDgwKSAqLyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdCArPSAoYiBeIGMgXiBkKSAtIDB4MzU5ZDNlMmE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgICAgICBkID0gYztcclxuICAgICAgICAgICAgICAgIGMgPSAoYiA8PCAzMCkgfCAoYiA+Pj4gMik7XHJcbiAgICAgICAgICAgICAgICBiID0gYTtcclxuICAgICAgICAgICAgICAgIGEgPSB0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxyXG4gICAgICAgICAgICBIWzBdID0gKEhbMF0gKyBhKSB8IDA7XHJcbiAgICAgICAgICAgIEhbMV0gPSAoSFsxXSArIGIpIHwgMDtcclxuICAgICAgICAgICAgSFsyXSA9IChIWzJdICsgYykgfCAwO1xyXG4gICAgICAgICAgICBIWzNdID0gKEhbM10gKyBkKSB8IDA7XHJcbiAgICAgICAgICAgIEhbNF0gPSAoSFs0XSArIGUpIHwgMDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBTaG9ydGN1dHNcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xyXG4gICAgICAgICAgICB2YXIgZGF0YVdvcmRzID0gZGF0YS53b3JkcztcclxuXHJcbiAgICAgICAgICAgIHZhciBuQml0c1RvdGFsID0gdGhpcy5fbkRhdGFCeXRlcyAqIDg7XHJcbiAgICAgICAgICAgIHZhciBuQml0c0xlZnQgPSBkYXRhLnNpZ0J5dGVzICogODtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXHJcbiAgICAgICAgICAgIGRhdGFXb3Jkc1tuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpO1xyXG4gICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IE1hdGguZmxvb3IobkJpdHNUb3RhbCAvIDB4MTAwMDAwMDAwKTtcclxuICAgICAgICAgICAgZGF0YVdvcmRzWygoKG5CaXRzTGVmdCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNV0gPSBuQml0c1RvdGFsO1xyXG4gICAgICAgICAgICBkYXRhLnNpZ0J5dGVzID0gZGF0YVdvcmRzLmxlbmd0aCAqIDQ7XHJcblxyXG4gICAgICAgICAgICAvLyBIYXNoIGZpbmFsIGJsb2Nrc1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gZmluYWwgY29tcHV0ZWQgaGFzaFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzaDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSBIYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgY2xvbmUuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTEoJ21lc3NhZ2UnKTtcclxuICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTEod29yZEFycmF5KTtcclxuICAgICAqL1xyXG4gICAgQy5TSEExID0gSGFzaGVyLl9jcmVhdGVIZWxwZXIoU0hBMSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG9ydGN1dCBmdW5jdGlvbiB0byB0aGUgSE1BQydzIG9iamVjdCBpbnRlcmZhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXHJcbiAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IGtleSBUaGUgc2VjcmV0IGtleS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBITUFDLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqICAgICB2YXIgaG1hYyA9IENyeXB0b0pTLkhtYWNTSEExKG1lc3NhZ2UsIGtleSk7XHJcbiAgICAgKi9cclxuICAgIEMuSG1hY1NIQTEgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBMSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBTaG9ydGN1dHNcclxuICAgIHZhciBDID0gQ3J5cHRvSlM7XHJcbiAgICB2YXIgQ19saWIgPSBDLmxpYjtcclxuICAgIHZhciBCYXNlID0gQ19saWIuQmFzZTtcclxuICAgIHZhciBDX2VuYyA9IEMuZW5jO1xyXG4gICAgdmFyIFV0ZjggPSBDX2VuYy5VdGY4O1xyXG4gICAgdmFyIENfYWxnbyA9IEMuYWxnbztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhNQUMgYWxnb3JpdGhtLlxyXG4gICAgICovXHJcbiAgICB2YXIgSE1BQyA9IENfYWxnby5ITUFDID0gQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluaXRpYWxpemVzIGEgbmV3bHkgY3JlYXRlZCBITUFDLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtIYXNoZXJ9IGhhc2hlciBUaGUgaGFzaCBhbGdvcml0aG0gdG8gdXNlLlxyXG4gICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICB2YXIgaG1hY0hhc2hlciA9IENyeXB0b0pTLmFsZ28uSE1BQy5jcmVhdGUoQ3J5cHRvSlMuYWxnby5TSEEyNTYsIGtleSk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKGhhc2hlciwga2V5KSB7XHJcbiAgICAgICAgICAgIC8vIEluaXQgaGFzaGVyXHJcbiAgICAgICAgICAgIGhhc2hlciA9IHRoaXMuX2hhc2hlciA9IG5ldyBoYXNoZXIuaW5pdCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gV29yZEFycmF5LCBlbHNlIGFzc3VtZSBXb3JkQXJyYXkgYWxyZWFkeVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAga2V5ID0gVXRmOC5wYXJzZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTaG9ydGN1dHNcclxuICAgICAgICAgICAgdmFyIGhhc2hlckJsb2NrU2l6ZSA9IGhhc2hlci5ibG9ja1NpemU7XHJcbiAgICAgICAgICAgIHZhciBoYXNoZXJCbG9ja1NpemVCeXRlcyA9IGhhc2hlckJsb2NrU2l6ZSAqIDQ7XHJcblxyXG4gICAgICAgICAgICAvLyBBbGxvdyBhcmJpdHJhcnkgbGVuZ3RoIGtleXNcclxuICAgICAgICAgICAgaWYgKGtleS5zaWdCeXRlcyA+IGhhc2hlckJsb2NrU2l6ZUJ5dGVzKSB7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSBoYXNoZXIuZmluYWxpemUoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ2xhbXAgZXhjZXNzIGJpdHNcclxuICAgICAgICAgICAga2V5LmNsYW1wKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbG9uZSBrZXkgZm9yIGlubmVyIGFuZCBvdXRlciBwYWRzXHJcbiAgICAgICAgICAgIHZhciBvS2V5ID0gdGhpcy5fb0tleSA9IGtleS5jbG9uZSgpO1xyXG4gICAgICAgICAgICB2YXIgaUtleSA9IHRoaXMuX2lLZXkgPSBrZXkuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xyXG4gICAgICAgICAgICB2YXIgb0tleVdvcmRzID0gb0tleS53b3JkcztcclxuICAgICAgICAgICAgdmFyIGlLZXlXb3JkcyA9IGlLZXkud29yZHM7XHJcblxyXG4gICAgICAgICAgICAvLyBYT1Iga2V5cyB3aXRoIHBhZCBjb25zdGFudHNcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYXNoZXJCbG9ja1NpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgb0tleVdvcmRzW2ldIF49IDB4NWM1YzVjNWM7XHJcbiAgICAgICAgICAgICAgICBpS2V5V29yZHNbaV0gXj0gMHgzNjM2MzYzNjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvS2V5LnNpZ0J5dGVzID0gaUtleS5zaWdCeXRlcyA9IGhhc2hlckJsb2NrU2l6ZUJ5dGVzO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IGluaXRpYWwgdmFsdWVzXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXNldHMgdGhpcyBITUFDIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICBobWFjSGFzaGVyLnJlc2V0KCk7XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2hvcnRjdXRcclxuICAgICAgICAgICAgdmFyIGhhc2hlciA9IHRoaXMuX2hhc2hlcjtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0XHJcbiAgICAgICAgICAgIGhhc2hlci5yZXNldCgpO1xyXG4gICAgICAgICAgICBoYXNoZXIudXBkYXRlKHRoaXMuX2lLZXkpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgdGhpcyBITUFDIHdpdGggYSBtZXNzYWdlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlVXBkYXRlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0hNQUN9IFRoaXMgSE1BQyBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgaG1hY0hhc2hlci51cGRhdGUoJ21lc3NhZ2UnKTtcclxuICAgICAgICAgKiAgICAgaG1hY0hhc2hlci51cGRhdGUod29yZEFycmF5KTtcclxuICAgICAgICAgKi9cclxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIChtZXNzYWdlVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhc2hlci51cGRhdGUobWVzc2FnZVVwZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGFpbmFibGVcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmluYWxpemVzIHRoZSBITUFDIGNvbXB1dGF0aW9uLlxyXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGUgZmluYWxpemUgb3BlcmF0aW9uIGlzIGVmZmVjdGl2ZWx5IGEgZGVzdHJ1Y3RpdmUsIHJlYWQtb25jZSBvcGVyYXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgKE9wdGlvbmFsKSBBIGZpbmFsIG1lc3NhZ2UgdXBkYXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgSE1BQy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAgdmFyIGhtYWMgPSBobWFjSGFzaGVyLmZpbmFsaXplKCk7XHJcbiAgICAgICAgICogICAgIHZhciBobWFjID0gaG1hY0hhc2hlci5maW5hbGl6ZSgnbWVzc2FnZScpO1xyXG4gICAgICAgICAqICAgICB2YXIgaG1hYyA9IGhtYWNIYXNoZXIuZmluYWxpemUod29yZEFycmF5KTtcclxuICAgICAgICAgKi9cclxuICAgICAgICBmaW5hbGl6ZTogZnVuY3Rpb24gKG1lc3NhZ2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgLy8gU2hvcnRjdXRcclxuICAgICAgICAgICAgdmFyIGhhc2hlciA9IHRoaXMuX2hhc2hlcjtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbXB1dGUgSE1BQ1xyXG4gICAgICAgICAgICB2YXIgaW5uZXJIYXNoID0gaGFzaGVyLmZpbmFsaXplKG1lc3NhZ2VVcGRhdGUpO1xyXG4gICAgICAgICAgICBoYXNoZXIucmVzZXQoKTtcclxuICAgICAgICAgICAgdmFyIGhtYWMgPSBoYXNoZXIuZmluYWxpemUodGhpcy5fb0tleS5jbG9uZSgpLmNvbmNhdChpbm5lckhhc2gpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBobWFjO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xuICAgIC8vIFNob3J0Y3V0c1xuICAgIHZhciBDID0gQ3J5cHRvSlM7XG4gICAgdmFyIENfbGliID0gQy5saWI7XG4gICAgdmFyIFdvcmRBcnJheSA9IENfbGliLldvcmRBcnJheTtcbiAgICB2YXIgQ19lbmMgPSBDLmVuYztcblxuICAgIC8qKlxuICAgICAqIEJhc2U2NCBlbmNvZGluZyBzdHJhdGVneS5cbiAgICAgKi9cbiAgICB2YXIgQmFzZTY0ID0gQ19lbmMuQmFzZTY0ID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgQmFzZTY0IHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl9IHdvcmRBcnJheSBUaGUgd29yZCBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgQmFzZTY0IHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgdmFyIGJhc2U2NFN0cmluZyA9IENyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KHdvcmRBcnJheSk7XG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcbiAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuICAgICAgICAgICAgdmFyIHdvcmRzID0gd29yZEFycmF5LndvcmRzO1xuICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuICAgICAgICAgICAgdmFyIG1hcCA9IHRoaXMuX21hcDtcblxuICAgICAgICAgICAgLy8gQ2xhbXAgZXhjZXNzIGJpdHNcbiAgICAgICAgICAgIHdvcmRBcnJheS5jbGFtcCgpO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0XG4gICAgICAgICAgICB2YXIgYmFzZTY0Q2hhcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIHZhciBieXRlMSA9ICh3b3Jkc1tpID4+PiAyXSAgICAgICA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAgICAgICAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGUyID0gKHdvcmRzWyhpICsgMSkgPj4+IDJdID4+PiAoMjQgLSAoKGkgKyAxKSAlIDQpICogOCkpICYgMHhmZjtcbiAgICAgICAgICAgICAgICB2YXIgYnl0ZTMgPSAod29yZHNbKGkgKyAyKSA+Pj4gMl0gPj4+ICgyNCAtICgoaSArIDIpICUgNCkgKiA4KSkgJiAweGZmO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRyaXBsZXQgPSAoYnl0ZTEgPDwgMTYpIHwgKGJ5dGUyIDw8IDgpIHwgYnl0ZTM7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgKGogPCA0KSAmJiAoaSArIGogKiAwLjc1IDwgc2lnQnl0ZXMpOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZTY0Q2hhcnMucHVzaChtYXAuY2hhckF0KCh0cmlwbGV0ID4+PiAoNiAqICgzIC0gaikpKSAmIDB4M2YpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBwYWRkaW5nXG4gICAgICAgICAgICB2YXIgcGFkZGluZ0NoYXIgPSBtYXAuY2hhckF0KDY0KTtcbiAgICAgICAgICAgIGlmIChwYWRkaW5nQ2hhcikge1xuICAgICAgICAgICAgICAgIHdoaWxlIChiYXNlNjRDaGFycy5sZW5ndGggJSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2U2NENoYXJzLnB1c2gocGFkZGluZ0NoYXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGJhc2U2NENoYXJzLmpvaW4oJycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0cyBhIEJhc2U2NCBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZTY0U3RyIFRoZSBCYXNlNjQgc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSB3b3JkIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMuZW5jLkJhc2U2NC5wYXJzZShiYXNlNjRTdHJpbmcpO1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChiYXNlNjRTdHIpIHtcbiAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuICAgICAgICAgICAgdmFyIGJhc2U2NFN0ckxlbmd0aCA9IGJhc2U2NFN0ci5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgICAgICAgICAvLyBJZ25vcmUgcGFkZGluZ1xuICAgICAgICAgICAgdmFyIHBhZGRpbmdDaGFyID0gbWFwLmNoYXJBdCg2NCk7XG4gICAgICAgICAgICBpZiAocGFkZGluZ0NoYXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ0luZGV4ID0gYmFzZTY0U3RyLmluZGV4T2YocGFkZGluZ0NoYXIpO1xuICAgICAgICAgICAgICAgIGlmIChwYWRkaW5nSW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZTY0U3RyTGVuZ3RoID0gcGFkZGluZ0luZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29udmVydFxuICAgICAgICAgICAgdmFyIHdvcmRzID0gW107XG4gICAgICAgICAgICB2YXIgbkJ5dGVzID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZTY0U3RyTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSAlIDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJpdHMxID0gbWFwLmluZGV4T2YoYmFzZTY0U3RyLmNoYXJBdChpIC0gMSkpIDw8ICgoaSAlIDQpICogMik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaXRzMiA9IG1hcC5pbmRleE9mKGJhc2U2NFN0ci5jaGFyQXQoaSkpID4+PiAoNiAtIChpICUgNCkgKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgd29yZHNbbkJ5dGVzID4+PiAyXSB8PSAoYml0czEgfCBiaXRzMikgPDwgKDI0IC0gKG5CeXRlcyAlIDQpICogOCk7XG4gICAgICAgICAgICAgICAgICAgIG5CeXRlcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFdvcmRBcnJheS5jcmVhdGUod29yZHMsIG5CeXRlcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX21hcDogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89J1xuICAgIH07XG59KCkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9